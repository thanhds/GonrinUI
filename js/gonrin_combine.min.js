/**
 * combine on 23/04/2024 by namdv
 */
!function(n,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):n.gonrin=t(n.jQuery)}(this,function n(t,e){"use strict";var r={},u=[].slice,i=0;r.uniqueId=function(n){var t=++i+"";return n?n+t:t},r.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0;return("x"==n?t:3&t|8).toString(16)})},["every","some","filter","reduce","map"].forEach(function(n){return r[n]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?u.call(arguments,1):[],e[n].apply(e,t)}}),r.keys=Object.keys,r.isArray=Array.isArray,r.result=function(n,t){return(null==n&&(n={}),"Function"===utils.getType(n[t]))?n[t]():n[t]},r.detect=function(n,t){var e,r,u;for(r=0,u=n.length;r<u;r++)if(t(e=n[r]))return e},r.reject=function(n,t){var e,r,u,i;for(r=0,i=[],u=n.length;r<u;r++)t(e=n[r])||i.push(e);return i},r.intersection=function(n,t){var e,r,u,i;for(r=0,i=[],u=n.length;r<u;r++)e=n[r],-1!==t.indexOf(e)&&i.push(e);return i},r.isEqual=function(n,t){return JSON.stringify(n)===JSON.stringify(t)},r.isObjectEqual=function(n,t){var e=Object.getOwnPropertyNames(n),r=Object.getOwnPropertyNames(t);if(e.length!=r.length)return!1;for(var u=0;u<e.length;u++){var i=e[u];if(n[i]!==t[i])return!1}return!0},r.functions=r.methods=function(n){var t=[];for(var e in n)r.isFunction(n[e])&&t.push(e);return t.sort()},"function"!=typeof/./&&"object"!=typeof Int8Array&&(r.isFunction=function(n){return"function"==typeof n}),r.mixin=function(n){t.each(r.functions(n),function(t){var e=r[t]=n[t];r.prototype[t]=function(){var n=[this._wrapped];return push.apply(n,arguments),result(this,e.apply(r,n))}})},r.templateSettings={evaluate:/{%([\s\S]+?)%}/g,interpolate:/{{([\s\S]+?)}}/g,escape:/{{-([\s\S]+?)}}/g};var o=/(.)^/,a={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},c=/\\|'|\r|\n|\u2028|\u2029/g,s=function(n){return"\\"+a[n]};return r.template=function(n,e,u){!e&&u&&(e=u);var i=RegExp([((e=t.extend({},e,r.templateSettings)).escape||o).source,(e.interpolate||o).source,(e.evaluate||o).source].join("|")+"|$","g"),a=0,f="__p+='";n.replace(i,function(t,e,r,u,i){return f+=n.slice(a,i).replace(c,s),a=i+t.length,e?f+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?f+="'+\n((__t=("+r+"))==null?'':__t)+\n'":u&&(f+="';\n"+u+"\n__p+='"),t}),f+="';\n",e.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var l=Function(e.variable||"obj","_",f)}catch(p){throw p.source=f,p}var x=function(n){return l.call(this,n,r)},h=e.variable||"obj";return x.source="function("+h+"){\n"+f+"}",x},r.serializeFormJSON=function(n){var e={},r=n.serializeArray();return t.each(r,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},r.init=function(e){return n(e||t)},r});
/**
 * notify
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var i={element:"body",position:null,type:"info",allow_dismiss:!0,allow_duplicates:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:50,spacing:10,z_index:1131,delay:3e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div gonrin-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" gonrin-notify="dismiss">&times;</button><span gonrin-notify="icon"></span> <span gonrin-notify="title">{1}</span> <span gonrin-notify="message">{2}</span><div class="progress" gonrin-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" gonrin-notify="url"></a></div>'};function s(s,n,e){var o,a,r={content:{message:"object"==typeof n?n.message:n,title:n.title?n.title:"",icon:n.icon?n.icon:"",url:n.url?n.url:"#",target:n.target?n.target:"-"}};e=t.extend(!0,{},r,e),this.settings=t.extend(!0,{},i,e),this._defaults=i,"-"===this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),(this.settings.allow_duplicates||!this.settings.allow_duplicates&&(o=this,a=!1,t('[gonrin-notify="container"]').each(function(i,s){var n=t(s),e=n.find('[gonrin-notify="title"]').text().trim(),r=n.find('[gonrin-notify="message"]').html().trim(),l=e===t("<div>"+o.settings.content.title+"</div>").html().trim(),g=r===t("<div>"+o.settings.content.message+"</div>").html().trim(),h=n.hasClass("alert-"+o.settings.type);return l&&g&&h&&(a=!0),!a}),!a))&&this.init()}String.format=function(){for(var t=arguments[0],i=1;i<arguments.length;i++)t=t.replace(RegExp("\\{"+(i-1)+"\\}","gm"),arguments[i]);return t},t.extend(s.prototype,{init:function(){var t=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(i,s){var n={};for(var e in"string"==typeof i?n[i]=s:n=i,n)switch(e){case"type":this.$ele.removeClass("alert-"+t.settings.type),this.$ele.find('[gonrin-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+t.settings.type),t.settings.type=n[e],this.$ele.addClass("alert-"+n[e]).find('[gonrin-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+n[e]);break;case"icon":var o=this.$ele.find('[gonrin-notify="icon"]');"class"===t.settings.icon_type.toLowerCase()?o.removeClass(t.settings.content.icon).addClass(n[e]):(o.is("img")||o.find("img"),o.attr("src",n[e]));break;case"progress":var a=t.settings.delay-t.settings.delay*(n[e]/100);this.$ele.data("notify-delay",a),this.$ele.find('[gonrin-notify="progressbar"] > div').attr("aria-valuenow",n[e]).css("width",n[e]+"%");break;case"url":this.$ele.find('[gonrin-notify="url"]').attr("href",n[e]);break;case"target":this.$ele.find('[gonrin-notify="url"]').attr("target",n[e]);break;default:this.$ele.find('[gonrin-notify="'+e+'"]').html(n[e])}var r=this.$ele.outerHeight()+parseInt(t.settings.spacing)+parseInt(t.settings.offset.y);t.reposition(r)},close:function(){t.close()}}},buildNotify:function(){var i=this.settings.content;this.$ele=t(String.format(this.settings.template,this.settings.type,i.title,i.message,i.url,i.target)),this.$ele.attr("gonrin-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[gonrin-notify="dismiss"]').css("display","none"),(!(this.settings.delay<=0)||this.settings.showProgressbar)&&this.settings.showProgressbar||this.$ele.find('[gonrin-notify="progressbar"]').remove()},setIcon:function(){"class"===this.settings.icon_type.toLowerCase()?this.$ele.find('[gonrin-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[gonrin-notify="icon"]').is("img")?this.$ele.find('[gonrin-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[gonrin-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[gonrin-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[gonrin-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var i=this,s=this.settings.offset.y,n={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},e=!1,o=this.settings;switch(t('[gonrin-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){s=Math.max(s,parseInt(t(this).css(o.placement.from))+parseInt(t(this).outerHeight())+parseInt(o.spacing))}),!0===this.settings.newest_on_top&&(s=this.settings.offset.y),n[this.settings.placement.from]=s+"px",this.settings.placement.align){case"left":case"right":n[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":n.left=0,n.right=0}this.$ele.css(n).addClass(this.settings.animate.enter),t.each(["webkit-","moz-","o-","ms-",""],function(t,s){i.$ele[0].style[s+"AnimationIterationCount"]=1}),t(this.settings.element).append(this.$ele),!0===this.settings.newest_on_top&&(s=parseInt(s)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(s)),t.isFunction(i.settings.onShow)&&i.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(){e=!0}).one(this.animations.end,function(){t.isFunction(i.settings.onShown)&&i.settings.onShown.call(this)}),setTimeout(function(){!e&&t.isFunction(i.settings.onShown)&&i.settings.onShown.call(this)},600)},bind:function(){var i=this;if(this.$ele.find('[gonrin-notify="dismiss"]').on("click",function(){i.close()}),this.$ele.mouseover(function(){t(this).data("data-hover","true")}).mouseout(function(){t(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),this.settings.delay>0){i.$ele.data("notify-delay",i.settings.delay);var s=setInterval(function(){var t=parseInt(i.$ele.data("notify-delay"))-i.settings.timer;if("false"===i.$ele.data("data-hover")&&"pause"===i.settings.mouse_over||"pause"!=i.settings.mouse_over){var n=(i.settings.delay-t)/i.settings.delay*100;i.$ele.data("notify-delay",t),i.$ele.find('[gonrin-notify="progressbar"] > div').attr("aria-valuenow",n).css("width",n+"%")}t<=-i.settings.timer&&(clearInterval(s),i.close())},i.settings.timer)}},close:function(){var i=this,s=parseInt(this.$ele.css(this.settings.placement.from)),n=!1;this.$ele.attr("data-closing","true").addClass(this.settings.animate.exit),i.reposition(s),t.isFunction(i.settings.onClose)&&i.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(){n=!0}).one(this.animations.end,function(){t(this).remove(),t.isFunction(i.settings.onClosed)&&i.settings.onClosed.call(this)}),setTimeout(function(){!n&&(i.$ele.remove(),i.settings.onClosed&&i.settings.onClosed(i.$ele))},600)},reposition:function(i){var s=this,n='[gonrin-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',e=this.$ele.nextAll(n);!0===this.settings.newest_on_top&&(e=this.$ele.prevAll(n)),e.each(function(){t(this).css(s.settings.placement.from,i),i=parseInt(i)+parseInt(s.settings.spacing)+t(this).outerHeight()})}}),t.notify=function(t,i){return new s(this,t,i).notify},t.notifyDefaults=function(s){return i=t.extend(!0,{},i,s)},t.notifyClose=function(i){void 0===i||"all"===i?t("[gonrin-notify]").find('[gonrin-notify="dismiss"]').trigger("click"):t('[gonrin-notify-position="'+i+'"]').find('[gonrin-notify="dismiss"]').trigger("click")}});
/**
 * dialog
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.gonrin&&(t.gonrin.dialog=e(t.jQuery))}(this,function t(e,o){"use strict";var a={dialog:"<div class='modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'>&times;</span></button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},n={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},l={};function c(t){var e=d[n.locale];return e?e[t]:d.en[t]}function i(t,o,a){t.stopPropagation(),t.preventDefault(),e.isFunction(a)&&!1===a.call(o,t)||o.modal("hide")}function r(t,o){var a=0;e.each(t,function(t,e){o(t,e,a++)})}function s(t,o,a){return e.extend(!0,{},t,function t(e,o){var a=e.length,n={};if(a<1||a>2)throw Error("Invalid argument length");return 2===a||"string"==typeof e[0]?(n[o[0]]=e[0],n[o[1]]=e[1]):n=e[0],n}(o,a))}function u(t,e,o,a){return b(s({className:"bootbox-"+t,buttons:p.apply(null,e)},a,o),e)}function p(){for(var t={},e=0,o=arguments.length;e<o;e++){var a=arguments[e],n=a.toLowerCase(),l=a.toUpperCase();t[n]={label:c(l)}}return t}function b(t,e){var a={};return r(e,function(t,e){a[e]=!0}),r(t.buttons,function(t){if(o===a[t])throw Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}l.alert=function(){var t;if(t=u("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},l.dialog(t)},l.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw Error("confirm requires a callback");return l.dialog(t)},l.prompt=function(){if(i=e(a.form),t=b(s(n={className:"bootbox-prompt",buttons:p("cancel","confirm"),value:"",inputType:"text"},arguments,["title","callback"]),["cancel","confirm"]),d=o===t.show||t.show,t.message=i,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var o,a;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":o=u.val();break;case"checkbox":o=[],r(u.find("input:checked"),function(t,a){o.push(e(a).val())})}return t.callback.call(this,o)},t.show=!1,!t.title)throw Error("prompt requires a title");if(!e.isFunction(t.callback))throw Error("prompt requires a callback");if(!a.inputs[t.inputType])throw Error("invalid prompt type");switch(u=e(a.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":u.val(t.value);break;case"select":var t,n,c,i,u,d,f,m={};if(f=t.inputOptions||[],!e.isArray(f))throw Error("Please pass an array of input options");if(!f.length)throw Error("prompt with select requires options");r(f,function(t,a){var n=u;if(o===a.value||o===a.text)throw Error("given options in wrong format");a.group&&(m[a.group]||(m[a.group]=e("<optgroup/>").attr("label",a.group)),n=m[a.group]),n.append("<option value='"+a.value+"'>"+a.text+"</option>")}),r(m,function(t,e){u.append(e)}),u.val(t.value);break;case"checkbox":var C=e.isArray(t.value)?t.value:[t.value];if(!(f=t.inputOptions||[]).length)throw Error("prompt with checkbox requires options");if(!f[0].value||!f[0].text)throw Error("given options in wrong format");u=e("<div/>"),r(f,function(o,n){var l=e(a.inputs[t.inputType]);l.find("input").attr("value",n.value),l.find("label").append(n.text),r(C,function(t,e){e===n.value&&l.find("input").prop("checked",!0)}),u.append(l)})}return t.placeholder&&u.attr("placeholder",t.placeholder),t.pattern&&u.attr("pattern",t.pattern),t.maxlength&&u.attr("maxlength",t.maxlength),i.append(u),i.on("submit",function(t){t.preventDefault(),t.stopPropagation(),c.find(".btn-primary").click()}),(c=l.dialog(t)).off("shown.bs.modal"),c.on("shown.bs.modal",function(){u.focus()}),!0===d&&c.modal("show"),c},l.dialog=function(t){t=function t(o){var a,l;if("object"!=typeof o)throw Error("Please supply an object of options");if(!o.message)throw Error("Please specify a message");return(o=e.extend({},n,o)).buttons||(o.buttons={}),l=function t(e){var o,a=0;for(o in e)a++;return a}(a=o.buttons),r(a,function(t,o,n){if(e.isFunction(o)&&(o=a[t]={callback:o}),"object"!==e.type(o))throw Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(l<=2&&n===l-1?o.className="btn-primary":o.className="btn-default")}),o}(t);var l=e(a.dialog);t.template_custome&&t.message&&(l=t.message);var c=l.find(".modal-dialog"),s=l.find(".modal-body"),u=t.buttons,p="",b={escape:t.escape,success:t.success};if(o===e.fn.modal)throw Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library for more details.");if(r(u,function(t,e){p+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",b[t]=e.callback}),t.template_custome||s.find(".bootbox-body").html(t.message),t.block_content&&l.attr("block-bind","content"),!0===t.animate&&l.addClass("fade"),t.className&&c.addClass(t.className),"large"===t.size?c.addClass("modal-lg"):"medium"===t.size?c.addClass("modal-md"):"small"===t.size&&c.addClass("modal-sm"),t.title&&(l.find(".modal-title")||s.before(a.header),l.find(".modal-title").html(t.title)),!t.template_custome&&t.closeButton){var d=e(a.closeButton);d||(s.prepend(d),d.addClass("row px-3"))}return p.length?(s.after(a.footer),l.find(".modal-footer").html(p)):t.buttonStr&&(s.after(a.footer),l.find(".modal-footer").html(t.buttonStr)),t.width&&c.css("width",t.width),l.on("hidden.bs.modal",function(t){t.target===this&&l.remove()}),"static"!==t.backdrop&&l.on("click.dismiss.bs.modal",function(t){l.children(".modal-backdrop").length&&(t.currentTarget=l.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&l.trigger("escape.close.bb")}),l.on("escape.close.bb",function(t){b.onEscape&&i(t,l,b.onEscape)}),l.on("click","button.close",function(t){i(t,l,b.onEscape)}),l.on("keyup",function(t){27===t.which&&l.trigger("escape.close.bb")}),e(t.container).append(l),l.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&l.modal("show"),l},l.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(n,t)},l.hideAll=function(){return e(".bootbox").modal("hide"),l};var d={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"M\xe9gsem",CONFIRM:"Megerős\xedt"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"},vi:{OK:"Đồng \xfd",CANCEL:"Hủy bỏ",CONFIRM:"X\xe1c nhận"}};return l.addLocale=function(t,o){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!o[e])throw Error("Please supply a translation for '"+e+"'")}),d[t]={OK:o.OK,CANCEL:o.CANCEL,CONFIRM:o.CONFIRM},l},l.removeLocale=function(t){return delete d[t],l},l.setLocale=function(t){return l.setDefaults("locale",t)},l.init=function(o){return t(o||e)},l});
/**
 * checkbox
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else{if("undefined"==typeof jQuery)throw"gonrin checkbox requires jQuery to be loaded first";e(jQuery)}}(function(e){"use strict";var t=function(t,n){var l,o,a,i,u,c,r=window.gonrin,d={},s=-1,h='<div><input type="checkbox" name="" class="custom-control-input"><label class="custom-control-label strikethrough" for="checklist"></label></div>',f=!1,p=function(){var t=r.uniqueId("checkbox_"),l=f.find("input[type=checkbox]");return l.attr("name",t),l.attr("id",t),null!=n.text&&null!=n.text&&f.find("label").html(n.text).attr("for",t),e.each(i,function(e,t){"object"==typeof t&&(c="object",null!=n.valueField&&null!=n.checkedField&&a===t[n.valueField]&&l.prop("checked",t[n.checkedField]))}),l.bind("change",function(){for(var e=l.prop("checked"),t=0;t<i.length;t++){var o=i[t][n.valueField];e===i[t][n.checkedField]&&g(o)}}),d},v=function(){return n.dataSource&&(f=e(h),u.after(f),i=n.dataSource,p()),d},x=function(){return a},b=function(){return s},g=function(t){if(t!==a){var l=a;if(a=t,i&&i.length>0)for(var o=0;o<i.length;o++){var r=i[o];if("object"===c&&null!=n.valueField&&null!=n.checkedField&&a===r[n.valueField]){s=o,u.val(a),e(f.find("input[type=checkbox]")).prop("checked",r[n.checkedField]),y({type:"change.gonrin",value:a,oldValue:l});return}}}},k=function(t){if(i&&i.length>0&&i.length>t&&t>-1&&t<2){var l,o,r=i[t],d=a;if("object"===c){if(null==n.valueField||null==n.checkedField)return;l=r[n.valueField],o=r[n.checkedField]}s=t,u.val(l),a=l,e(f.find("input[type=checkbox]")).prop("checked",o),y({type:"change.gonrin",value:l,oldValue:d});return}},y=function(e){("change.gonrin"!==e.type||(!e.value||e.value!==e.oldValue)&&(e.value||e.oldValue))&&t.trigger(e)},m=function(){};if(d.destroy=function(){m(),f.remove(),t.removeData("gonrin")},d.setValue=g,d.getValue=x,d.setIndex=k,d.select=k,d.getIndex=b,d.readonly=function(e){return d},d.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw TypeError("options() options parameter should be an object");return e.extend(!0,n,t),d},t.is("input")){u=t;var F,$=t.parent();$.is("div")&&$.hasClass("custom-control")&&$.hasClass("custom-checkbox")?F=$:(t.wrap('<div class="custom-control custom-checkbox"></div>'),F=t.parent()),t.css("display","none")}else throw Error("Cannot apply to non input element");if(e.extend(!0,n,(o={},(t.is("input")||n.inline)&&(l=t.data()),l.data_options&&l.data_options instanceof Object&&(o=e.extend(!0,o,l.data_options)),o)),d.options(n),a=null!==n.value?n.value:u.val(),F.css("width",null!==n.width?n.width:"100%"),null===n.dataSource||!e.isArray(n.dataSource))throw TypeError("dataSource options parameter should be an array list");if(2!==n.dataSource.length)throw TypeError("dataSource options parameter should have 2 elements");return v(),n.index&&n.index>-1&&n.index<2&&d.setIndex(n.index),d};e.fn.checkbox=function(n){return this.each(function(){var l=e(this);l.data("gonrin")||(n=e.extend(!0,{},e.fn.checkbox.defaults,n),l.data("gonrin",t(l,n)))})},e.fn.checkbox.defaults={readonly:!1,checkedField:null,valueField:null,cssClassField:null,textField:null,dataSource:null,enable:!0,index:-1,headerTemplate:!1,template:!1,text:"",value:null,width:null,height:null}});
/**
 * grid
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else{if("undefined"==typeof jQuery)throw"gonrin grid requires jQuery to be loaded first";e(jQuery)}}(function(X){"use strict";var s=["rowclick","rowdblclick","rowcontextmenu"];function n(T,L){function j(e){T.triggerHandler(e)}function N(e){var t="visible";return e.hasOwnProperty(t)&&"function"==typeof e[t]?e[t]():!e.hasOwnProperty(t)||e.hasOwnProperty(t)&&!0===e[t]}function z(e){if(L.orderByMode&&L.orderBy)for(var t=0;t<L.orderBy.length;t++)if(e.field===L.orderBy[t].field)return L.orderBy[t];return!1}function t(e){if(e=X(e).closest("tr")){for(var t=e.data("row_data"),n=0;n<G.length;n++)if(G[n]._$row_id===t._$row_id){G.splice(n,1);break}j({type:"rowdeleted",rowData:U(t)}),K()}}function A(e){e.stopPropagation(),X(this),t(this)}function $(e){e.stopPropagation();var t=X(this).closest("tr");t&&(t=(e=t.data("row_data"))._$row_id,j({type:"rowedited",rowUuid:t,rowData:U(e)}))}function V(e,t,n,i,a){var o;-1<s.indexOf(e)&&L.primaryField&&("single"==L.selectionMode||"multiple"==L.selectionMode)&&(o=U(i),n=-1<(i=r("selected_index",o))?(r("remove_id",i),r("mark_deselected",o),"deselected"):("single"==L.selectionMode&&(r("clear_all_ids"),r("mark_page_deselected")),r("add_id",o),r("mark_selected",o),"selected"),r("update_counter")),j({type:e,rowId:t,rowStatus:n,rowData:o,selectedItems:U(L.selectedItems),el:a})}function d(){if("client"===L.orderByMode){var e=!1;for(var t in L.fields)if(e=z(L.fields[t]))break;var n=!1,i=!1;if(e&&(i=e.direction||!1,n=e.compare||!1),null!=g&&!1!==e){var a=e.field;switch(i){case"asc":g.sort(function(e,t){return!1!==n?n(e[a],t[a]):e[a]>t[a]});break;case"desc":g.sort(function(e,t){return!1!==n?n(t[a],e[a]):e[a]<t[a]})}}}}function c(){if(q&&q.uuid)for(var e=0;e<G.length;e++)G[e]._$row_id=q.uuid()}var f,e,n,q=window.gonrin,i={},J={columns:"Columns",columns_show_row_numbers:"Row numbers",columns_default:"Default",sorting:"Sorting",sort_ascending:"<i class='glyphicon glyphicon-chevron-up'></i>&nbsp;&nbsp;",sort_descending:"<i class='glyphicon glyphicon-chevron-down'></i>&nbsp;&nbsp;",sort_none:"<i class='glyphicon glyphicon-minus'></i>&nbsp;&nbsp;",sorting_default:"Default",filters:"Filters",filters_apply:"Apply",filters_reset:"Reset",select:"Select",select_all_in_page:"All in page",deselect_all_in_page:"None in page",select_inverse_in_page:"Inverse",deselect_all:"Deselect all",row_index_header:"#",no_records_found:"No records found",error_load_data:"Error loading data",command_delete_label:"Delete",command_edit_label:"Edit",command_cancel_label:"Cancel",validate_message:"Error",validate_success_message:"Successfull"},p=[],G=[],g=[],W=function(i){var e=T.attr("id"),r=L.tableIdPrefix+e,n=T.find("#"+r),t=L.noResultsIdPrefix+e,a=T.find("#"+t),o=(L.filterRulesIdPrefix,L.paginationIdPrefix+e),t=T.find("#"+o);n.empty();var s,l,d,c=L.fields,f=c.length,e=G.length,p=G.length,g=L.primaryField;if(0<i)for(s=0;s<p;s++)for(d=0;d<f;d++)l=c[d],N.call(elem,l)&&null==i[s][l.field]&&(i[s][l.field]="");var u,h,m;parseInt(L.pagination.page),parseInt(L.pagination.pageSize);n.html('<thead><tr class="grid-header" ></tr></thead><tbody class="grid-data"></tbody><tfoot> class="grid-foot"></tfoot>');var b=n.find("thead > tr.grid-header"),_=n.find("tbody.grid-data"),w=!1;for(h in L.fields)if(N(L.fields[h])){u="";var y=z(L.fields[h]);if(L.orderByMode&&!1!==y&&!1===w){var C=y.direction||!1;if(!1!==C){switch(C){case"asc":u='&nbsp;<span class="'+L.sortingIndicatorAscClass+'"></span>';break;case"desc":u='&nbsp;<span class="'+L.sortingIndicatorDescClass+'"></span>';break;default:u=""}w=!0}}C=r+"_th_"+L.fields[h].field;C=X("<th>").attr("id",C).addClass(L.commonThClass).html((L.fields[h].label||L.fields[h].field)+u);L.fields[h].hasOwnProperty("width")&&C.css("width",L.fields[h].width),L.fields[h].hasOwnProperty("headerClass")&&C.addClass(L.fields[h].headerClass),b.append(C)}for(m in i){v=g?r+"_tr_"+i[m][g]:"";var v,x=X("<tr>").attr("id",v).data("row_data",i[m]);for(h in L.rowClass&&("string"==typeof L.rowClass&&x.addClass(L.rowClass),"function"==typeof L.rowClass&&(v=L.rowClass(i[m]),x.addClass(v))),i[m]._$row_id&&x.attr("data-uuid",i[m]._$row_id),L.fields)if(N(L.fields[h])){var P,k=X("<td>");if(L.fields[h].template&&q.template)P=X.isFunction(L.fields[h].template)?(P="",L.context?q.template(L.fields[h].template.call(L.context,i[m],{})):q.template(L.fields[h].template(i[m]))):q.template(L.fields[h].template),k.html(P(i[m]));else if(L.fields[h].command||L.fields[h].menu){var I,R=L.fields[h].command,O=L.fields[h].menu;X.isArray(R)?X.each(R,function(e,n){var t=null;if("delete"===n?(t=X("<button/>").addClass("btn btn-danger").html(J.command_delete_label)).bind("click",A):"edit"===n&&(t=X("<button/>").addClass("btn btn-warning").html(J.command_edit_label)).bind("click",$),X.isPlainObject(n)&&n.action){if("delete"===n.action&&(t=X("<button/>").attr("type","button").addClass("btn btn-danger").html(n.label||J.command_delete_label)).bind("click",A),"edit"===n.action&&(t=X("<button/>").attr("type","button").addClass("btn btn-warning").html(n.label||J.command_edit_label)).bind("click",$),"function"==typeof n.action&&(t=X("<button/>").attr("type","button").addClass("btn").html(n.label||" ")).bind("click",function(e){e.stopPropagation();var t=X(this).closest("tr");t&&(e=t.data("row_data"),e=U(e),L.context?n.action.call(L.context,{rowData:e,el:t},n.args||{}):n.action({rowData:e,el:t},n.args||{}))}),n.class){if("function"==typeof n.class){let e="";e=L.context?n.class.call(L.context,{rowData:i[m]},n.args||{}):n.action({rowData:i[m]},n.args||{}),t.addClass(e)}"string"==typeof n.class&&t.addClass(n.class)}n.customTitle&&t.attr("title",n.customTitle),n.customMinWidth&&t.css("min-width",n.customMinWidth)}null!=t&&k.append(t)}):O&&O.command&&((R=X("<button>").addClass("btn").attr({type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"})).html((O.label||"...")+'<span class="caret"></span>'),O.class&&R.addClass(O.class),R.dropdown(),I=X("<ul>").addClass("dropdown-menu"),O.dropdownClass&&I.addClass(O.dropdownClass),R=X("<div>").addClass("dropdown").append(R).append(I),O=O.command,X.isArray(O)&&X.each(O,function(e,n){var t=null;"function"==typeof n.action?(t=X("<li/>").html('<a href="javascript:void(0)">'+n.label||" </a>")).bind("click",function(e){e.stopPropagation();var t=X(this).closest("tr");t&&(e=t.data("row_data"),e=U(e),L.context?n.action.call(L.context,{rowData:e,el:t},n.args||{}):n.action({rowData:e,el:t},n.args||{}))}):"separator"===n.action&&(t=X("<li/>").attr("role","separator").addClass("divider")),t&&I.append(t)}),k.append(R),k.bind("click",function(e){e.stopPropagation()}))}else{var M,D,S,B=i[m][L.fields[h].field];if(X.isArray(B)){if(L.fields[h].hasOwnProperty("textField")){for(var E="",F=0;F<B.length;F++)E=E+(""===E?"":", ")+B[F][L.fields[h].textField];B=E}}else X.isPlainObject(B)?L.fields[h].hasOwnProperty("textField")&&(B=B[L.fields[h].textField]):(L.fields[h].hasOwnProperty("foreign")&&!1!==L.fields[h].foreign&&(S=i[m][L.fields[h].foreign],M=L.fields[h].foreignValueField,D=L.fields[h].foreignTextField,B=S&&M&&"object"==typeof S&&S[M]===B&&S[D]||""),L.fields[h].hasOwnProperty("foreignValues")&&X.isArray(L.fields[h].foreignValues)&&(M=L.fields[h].foreignValueField||"value",D=L.fields[h].foreignTextField||"text",S=1==(S=X.grep(L.fields[h].foreignValues,function(e){return e[M]===B})).length?S[0]:null,B=S?S[D]:""));k.html(B)}L.fields[h].hasOwnProperty("dataClass")&&k.addClass(L.fields[h].dataClass),x.append(k)}_.append(x)}!1!==L.pagination&&!1!==L.paginationMode&&void 0!==X.fn.pagination&&t.pagination({refresh:!0,page:L.pagination.page,pageSize:L.pagination.pageSize,totalPages:L.pagination.totalPages,totalRows:L.pagination.totalRows,showRowsInfo:L.pagination.showRowsInfo,virtualTotalPages:null,onChangePage:function(e){L.pagination.page=e.page,L.pagination.pageSize=e.pageSize,"server"===L.paginationMode?K():W(H()),j({type:"changepage",page:e.page})}}),0==e?(t.hide(),a.show()):(t.show(),a.hide()),Q(),L.events&&X.each(L.events,function(a,e){var o,t;a.startsWith("row")&&(o=(r+"_tr_").length,t=a.substring(3,a.length),n.off(t,"tbody tr").on(t,"tbody tr",function(){var e,t=X(this),n=t.data("row_data"),i=t.attr("id").substr(o);"rowclick"!==a&&"rowdblclick"!==a||!L.preventClickOnDblClickEvent?V(a,i,e,n,t):(void 0===t.data("grid_rowClickCount")&&t.data("grid_rowClickCount",0),"rowclick"===a&&(0==t.data("grid_rowClickCount")&&t.data("grid_rowClickCount",1),setTimeout(function(){1==t.data("grid_rowClickCount")&&(t.data("grid_rowClickCount",0),V(a,i,e,n,t)),2==t.data("grid_rowClickCount")&&t.data("grid_rowClickCount",0)},L.clickTimeout||200)),"rowdblclick"===a&&(t.data("grid_rowClickCount",2),V(a,i,e,n,t)))})),a.startsWith("cell")}),n.off("click","thead th").on("click","thead th",function(){var e=(r+"_th_").length,t=X(this).attr("id").substr(e);if(!1!==L.orderByMode){e=z({field:t});if(e){"asc"===e.direction?e.direction="desc":"desc"===e.direction?e.direction=!1:e.direction="asc";for(var n=0;n<L.orderBy.length;n++){var i=L.orderBy[n];i.field!==t&&(i.direction=!1)}L.pagination.page=1,K()}}}),j({type:"render"})},Q=function(){var e,t=T.attr("id"),t=L.tableIdPrefix+t;L.primaryField&&0<L.selectedItems.length&&("single"!=L.selectionMode&&"multiple"!=L.selectionMode||T.find("#"+t+" tbody tr").each(function(){e=U(X(this).data("row_data")),-1<r("selected_index",e)&&r("mark_selected",e)})),r("update_counter")},H=function(){if("client"!==L.paginationMode)return g;if(0==g.length)return L.pagination.totalPages=0,L.pagination.page=1,g;L.pagination.totalPages=g.length%L.pagination.pageSize==0?g.length/L.pagination.pageSize:parseInt(g.length/L.pagination.pageSize)+1,L.pagination.page>L.pagination.totalPages&&(L.pagination.page=L.pagination.totalPages);var e=[],t=(L.pagination.page-1)*L.pagination.pageSize,n=(L.pagination.page-1)*L.pagination.pageSize+L.pagination.pageSize;n>g.length&&(n=g.length);for(var i=t;i<n;i++)e.push(g[i]);return e},U=function(e){var n=null;return X.isArray(e)?(n=[],X.each(e,function(e,t){t.hasOwnProperty("_$row_id")&&delete t._$row_id,n.push(t)}),n):"object"==typeof e?((n=X.extend({},e)).hasOwnProperty("_$row_id")&&delete n._$row_id,n):null},K=function(e){if("object"==typeof(f=L.dataSource))if(function(e){for(var t=["fetch"],n=0,i=t.length;n<i;n++)if(!e[t[n]])return!1;return!0}(f)){L.paginationMode=L.paginationMode||"server",L.filterMode=L.filterMode||"server",L.orderByMode=L.orderByMode||"server";var t=f,n=L.pagination.pageSize,i=0<L.pagination.page?L.pagination.page:1,a=null;if(L.filters&&"server"===L.filterMode&&((a=a||{}).filters=L.filters),L.orderBy&&"server"===L.orderByMode){(a=a||{}).order_by=[];for(var o=0;o<L.orderBy.length;o++)L.orderBy[o].direction&&a.order_by.push({field:L.orderBy[o].field,direction:L.orderBy[o].direction})}var r=t.url;if("server"===L.paginationMode){var s=L.extraParams||{};let e="";for(const l in s)if(Object.hasOwnProperty.call(s,l)){const T=s[l];e=e+"&"+l+"="+T}r=r+"?page="+i+"&results_per_page="+n+(a?"&q="+JSON.stringify(a):""),0<e.length&&(r+=e)}else r+=a?"?q="+JSON.stringify(a):"";t.fetch({url:r,success:function(e){L.pagination.page=t.page,L.pagination.totalPages=t.totalPages,L.pagination.totalRows=t.numRows,L.other_data=t.other_data,G.splice(0,G.length),t.each(function(e){G.push(e.attributes)}),c(),u(),"client"===L.paginationMode?W(H()):W(g)},error:function(e,t,n){let i=null;var a="ERROR: "+J.error_load_data;try{a=t.responseJSON.message,i=t.responseJSON}catch(e){}a=a||"ERROR: "+J.error_load_data,T.html('<span style="color: red;">'+a+"</span>"),j({type:"griderror",errorCode:"SERVER_ERROR",errorDescription:a,response:i,status:t.status})}})}else X.isArray(f)&&(G=f,c(),u(),d(),W(H()))},r=function(e,t){var n=T.attr("id"),i=L.tableIdPrefix+n,a=L.selectedTrClass,o="#"+i+" tbody tr",r="#"+i+"_tr_",s=t?t[L.primaryField]:null;switch(e){case"get_ids":if("single"==L.selectionMode)return L.selectedItems;if("multiple"==L.selectionMode)return L.selectedItems;break;case"clear_all_ids":L.selectedItems=[];break;case"update_counter":var l=L.selectedRowsIdPrefix+n;T.find("#"+l).text(L.selectedItems.length);break;case"selected_index":if("multiple"==L.selectionMode&&"string"==typeof L.selectedItems)try{L.selectedItems=JSON.parse(L.selectedItems)}catch(e){}for(var d=0;d<L.selectedItems.length;d++)if(L.primaryField&&0<L.primaryField.length){if(t[L.primaryField]===L.selectedItems[d][L.primaryField])return d}else if(function(e,t){var n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t);if(n.length==i.length){for(var a=0;a<n.length;a++){var o=n[a];if(e[o]!==t[o])return}return 1}}(t,L.selectedItems[d]))return d;return-1;case"add_id":if("multiple"==L.selectionMode&&"string"==typeof L.selectedItems)try{L.selectedItems=JSON.parse(L.selectedItems)}catch(e){}L.selectedItems.push(t);break;case"remove_id":L.selectedItems.splice(t,1);break;case"mark_selected":T.find(r+s).addClass(a);break;case"mark_deselected":T.find(r+s).removeClass(a);break;case"mark_page_selected":T.find(o).addClass(a);break;case"mark_page_deselected":T.find(o).removeClass(a);break;case"mark_page_inversed":T.find(o).toggleClass(a)}},u=function(e,t){e=e||L.filters,t=t||L.filterMode,g="client"===t&&null!==e&&q&&q.query?q.query(G,e):G};return i.getVersion=function(){return"0.1.0"},i.options=function(e){if(0===arguments.length)return X.extend(!0,{},L);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return X.extend(!0,L,e),i},i.getOption=function(e){return L[e]},i.getAllOptions=function(){return L},i.filter=function(e,t){L.filters=e,L.extraParams=t,L.pagination.page=1,K()},i.clientFilter=function(e,t="client"){L.pagination.page=1,u(e,t),d(),W(pagingClientData())},i.changePage=function(e){L.pagination.page=e,K()},i.deleteRow=t,i.boundData=K,i.selectedRows=r,i.getSelectedItems=function(){return U(L.selectedItems)},i.setDataSource=function(e){L.dataSource=e,K()},i.applyRowSelections=function(){Q()},X.extend(!0,L,(n={},(T.is("div")||L.inline)&&(e=T.data()),e.dataOptions&&e.dataOptions instanceof Object&&(n=X.extend(!0,n,e.dataOptions)),n)),L.pagination=X.extend({},{serverPaging:!1,page:1,pageSize:15,totalRows:null,pageLinks:5,showGotoPage:!1,showRowsPerPage:!0,showRowsInfo:!1,showRowsDefaultInfo:!0},L.pagination||{}),J=X.extend({},J,L.language||{}),i.options(L),L.events=L.events||{},L.onRowClick&&(L.events.rowclick=L.onRowClick),L.onRendered&&(L.events.render=L.onRendered),L.onChangePage&&(L.events.changepage=L.onChangePage),T.unbind("griderror").bind("griderror",L.context?X.proxy(L.onGridError,L.context):L.onGridError),T.unbind("debug").bind("debug",L.context?X.proxy(L.onDebug,L.context):L.onDebug),T.unbind("rowdeleted").bind("rowdeleted",L.context?X.proxy(L.onRowDeleted,L.context):L.onRowDeleted),T.unbind("rowedited").bind("rowedited",L.context?X.proxy(L.onRowEdited,L.context):L.onRowEdited),X.each(L.events,function(e,t){T.unbind(e).bind(e,L.context?X.proxy(t,L.context):t)}),function(){if(!T.is("div"))throw new Error("Cannot apply to non input, select element");if(T.attr("id")||T.attr("id","grid"),p=L.selectedItems||[],L.primaryField)switch(L.selectionMode){case"single":1<p.length&&(p=[]);break;case!1:p=[]}else p=[];var e=T.attr("id");T.removeClass().addClass(L.containerClass);var t=L.toolsIdPrefix+e,n=(L.columnsListIdPrefix,L.sortingListIdPrefix,L.sortingRadioNamePrefix,L.selectedRowsIdPrefix,L.selectionListIdPrefix,L.tableContainerIdPrefix+e),i=L.tableIdPrefix+e,a=L.noResultsIdPrefix+e,o=(L.filterToggleIdPrefix,L.paginationIdPrefix+e),e=(L.filterContainerIdPrefix,L.filterRulesIdPrefix,L.filterToolsIdPrefix,"");e+='<div id="'+t+'" class="'+L.toolsClass+'"></div>',e+='<div id="'+n+'" class="'+L.datatableContainerClass+'">',e+='<table id="'+i+'" class="'+L.datatableClass+'"></table>',e+="</div>",e+='<div id="'+a+'" class="'+L.noResultsClass+'">'+J.no_records_found+"</div>",e+='<div id="'+o+'"></div>',e+="</div>",T.html(e),T.find("#"+a).hide(),(t=T.find("#"+t))&&t.addClass(L.toolsClass);var r=X("<div>").addClass("btn-group");if(L.tools&&0<L.tools.length){r.appendTo(t);for(var s=0;s<L.tools.length;s++){var l=X("<button>").addClass("btn btn-sm").attr({type:"button",name:L.tools[s].name}).html(L.tools[s].label||L.tools[s].name);l.addClass(L.tools[s].buttonClass||"btn-default"),L.tools[s].command&&(X.isFunction(L.tools[s].command)?l.bind("click",L.context?X.proxy(L.tools[s].command,L.context):L.tools[s].command):"string"==typeof L.tools[s].command&&console.log(L.tools[s].command)),r.append(l)}}K(!0)}(),null===L.preventClickOnDblClickEvent&&null!==L.events&&(L.events.rowclick&&L.events.rowdblclick?L.preventClickOnDblClickEvent=!0:L.preventClickOnDblClickEvent=!1),i}X.fn.grid=function(t){return this.each(function(){var e=X(this);t.refresh=t.refresh||!1,e.data("gonrin")&&t.refresh&&e.data("gonrin",null),e.data("gonrin")||(t=X.extend(!0,{},X.fn.grid.defaults,t),e.data("gonrin",n(e,t)))})},X.fn.grid.defaults={refresh:!1,context:null,dataSource:null,primaryField:"",other_data:null,selectionMode:"single",selectedItems:[],fields:[],pagination:null,filters:null,orderBy:null,tools:null,showRowNumbers:!1,num_results:0,onRowClick:null,onGridError:function(){},onDebug:function(){},onRendered:function(){},onRowDeleted:function(){},onRowEdited:function(){},onValidateError:function(){},onValidateSuccess:function(){},onChangePage:function(){},events:null,preventClickOnDblClickEvent:null,clickTimeout:200,orderByMode:"client",filterMode:"client",paginationMode:"client",containerClass:"grid_container",noResultsClass:"alert alert-warning no-records-found",toolsClass:"tools tools_grid",columnsListLaunchButtonClass:"btn btn-default dropdown-toggle",columnsListLaunchButtonIconClass:"glyphicon glyphicon-th",columnsListClass:"dropdown-menu dropdown-menu-right",columnsListLabelClass:"columns-label",columnsListCheckClass:"col-checkbox",columnsListDividerClass:"divider",columnsListDefaultButtonClass:"btn btn-primary btn-xs btn-block",sortingListLaunchButtonIconClass:"glyphicon glyphicon-sort",sortingLabelCheckboxClass:"radio-inline",sortingNameClass:"sorting-name",selectButtonIconClass:"glyphicon  glyphicon-check",selectedRowsClass:"selected-rows",filterToggleButtonIconClass:"glyphicon glyphicon-filter",filterToggleActiveClass:"btn-info",sortingIndicatorAscClass:"glyphicon glyphicon-chevron-up text-muted",sortingIndicatorDescClass:"glyphicon glyphicon-chevron-down text-muted",datatableContainerClass:"table",datatableClass:"table table-bordered",commonThClass:"th-common",selectedTrClass:"bg-primary",filterContainerClass:"well filters-container",filterToolsClass:"",filterApplyBtnClass:"btn btn-primary btn-sm filters-button",filterResetBtnClass:"btn btn-default btn-sm filters-button",toolsIdPrefix:"tools_",columnsListIdPrefix:"columns_list_",sortingListIdPrefix:"sorting_list_",sortingRadioNamePrefix:"sort_radio_",selectedRowsIdPrefix:"selectedRows_",selectionListIdPrefix:"selection_list_",filterToggleIdPrefix:"filter_toggle_",tableContainerIdPrefix:"tbl_container_",tableIdPrefix:"tbl_",noResultsIdPrefix:"no_res_",rowClass:"grid_row",paginationIdPrefix:"pag_",filterContainerIdPrefix:"flt_container_",filterRulesIdPrefix:"flt_rules_",filterToolsIdPrefix:"flt_tools_",debugMode:!1}});
/**
 * pagination
 */
!function(a){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],a);else if("object"==typeof exports)a(require("jquery"));else{if("undefined"==typeof jQuery)throw"gonrin grid requires jQuery to be loaded first";a(jQuery)}}(function(a){"use strict";var e=function(e,t){window.gonrin;var s,n,i={},o={},o={go_to_page_title:"Go to page",rows_per_page_title:"Rows per page",current_page_label:"Page",current_page_abbr_label:"p.",total_pages_label:"of",total_pages_abbr_label:"/",total_rows_label:"of",rows_info_records:"records",go_top_text:"&laquo;",go_prev_text:"&larr;",go_next_text:"&rarr;",go_last_text:"&raquo;"},l=function(a,e){return a+e},r=function(a){e.triggerHandler(a)},g=function(a,s,n,i,g){var p=l(t.navItemIdPrefix,a)+"_";if(i){var c,d,f,v,P,u,x=l(t.navListIdPrefix,a),C=l(t.navTopIdPrefix,a),m=l(t.navPrevIdPrefix,a),h=l(t.navNextIdPrefix,a),b=l(t.navLastIdPrefix,a),w=e.find("#"+x),I="",_=parseInt(t.page),L="",R="javascript:void(0);";for(t.totalPages<t.pageLinks?(_=1,d=t.totalPages):(u=Math.ceil(t.totalPages/t.pageLinks),_>t.pageLinks*(u-1)?_=t.totalPages-t.pageLinks+1:(P=0==(v=_%t.pageLinks)?-t.pageLinks+1:-v+1,_+=P),d=_+t.pageLinks-1),e.data("nav_start",_),e.data("nav_end",d),_>1&&(L=t.directURL?t.directURL(1):R,I+='<li class="'+t.pageClass+" "+t.pageOptionClass+'"><a class="'+t.linkClass+" "+t.linkOptionClass+'" id="'+C+'" href="'+L+'">'+o.go_top_text+"</a></li>",L=t.directURL?t.directURL(_-1):R,I+='<li class="'+t.pageClass+" "+t.pageOptionClass+'"><a class="'+t.linkClass+" "+t.linkOptionClass+'" id="'+m+'" href="'+L+'">'+o.go_prev_text+"</a></li>"),f=_;f<=d;f++)L=t.directURL?t.directURL(f):R,I+='<li class="'+t.pageClass+" "+t.pageOptionClass+'"><a class="'+t.linkClass+" "+t.linkOptionClass+'" id="'+p+f+'" href="'+L+'">'+f+"</a></li>";d<t.totalPages&&(L=t.directURL?t.directURL(d+1):R,I+='<li class="'+t.pageClass+" "+t.pageOptionClass+'"><a class="'+t.linkClass+" "+t.linkOptionClass+'" id="'+h+'" href="'+L+'">'+o.go_next_text+"</a></li>",L=t.directURL?t.directURL(t.totalPages):R,I+='<li class="'+t.pageClass+" "+t.pageOptionClass+'"><a class="'+t.linkClass+" "+t.linkOptionClass+'" id="'+b+'" href="'+L+'">'+o.go_last_text+"</a></li>"),w.html(I),t.disableTextSelectionInNavPane&&(c=w).attr("unselectable","on").css("user-select","none").on("selectstart",!1)}var k=e.find("#"+p+s),$=e.find("#"+p+n);k.closest("li").removeClass(t.navListActiveItemClass),$.closest("li").addClass(t.navListActiveItemClass);var y=o.current_page_label+" "+n+" "+o.total_pages_label+" "+t.totalPages;if(k.prop("title",""),$.prop("title",y),t.showRowsInfo&&t.showRowsDefaultInfo){var O=(t.page-1)*t.pageSize+1,N=Math.min(O+t.pageSize-1,t.totalRows),T=O+"-"+N+" "+o.total_rows_label+" "+t.totalRows+" "+o.rows_info_records+" ("+o.current_page_abbr_label+t.page+o.total_pages_abbr_label+t.totalPages+")",S=l(t.navRowsInfoIdPrefix,a);e.find("#"+S).html(T)}g?r({type:"changePage",page:n,pageSize:t.pageSize}):r({type:"load",page:n,pageSize:t.pageSize})};return i.getVersion=function(){return"0.0.1"},i.options=function(e){if(0===arguments.length)return a.extend(!0,{},t);if(!(e instanceof Object))throw TypeError("options() options parameter should be an object");return a.extend(!0,t,e),i},i.getOption=function(a){return t[a]},i.getAllOptions=function(){return t},a.extend(!0,t,(n={},(e.is("div")||t.inline)&&(s=e.data()),s.dataOptions&&s.dataOptions instanceof Object&&(n=a.extend(!0,n,s.dataOptions)),n)),i.options(t),!function(){if(e.is("div"))e.attr("id")||e.attr("id","grid");else throw Error("Cannot apply to non input, select element");e.unbind("changePage").bind("changePage",t.context?a.proxy(t.onChangePage,t.context):t.onChangePage),e.unbind("load").bind("load",t.context?a.proxy(t.onLoad,t.context):t.onLoad);var s,n,i,p,c,d,f,v,P=e.attr("id"),u=l(t.navListIdPrefix,P),x=l(t.navTopIdPrefix,P),C=l(t.navPrevIdPrefix,P),m=l(t.navItemIdPrefix,P)+"_",h=l(t.navNumberPageItemIdPrefix,P)+"_",b=l(t.navNextIdPrefix,P),w=l(t.navLastIdPrefix,P),I=l(t.navGotoPageIdPrefix,P),_=(l(t.navRowsPerPageIdPrefix,P),l(t.navRowsInfoIdPrefix,P)),L="";if(t.showRowsPerPage){if(L+='<div class="'+t.navListNumberOfPage+'">',L+='<div class="input-group">',L+='<p class="px-2 d-flex" style="border-right: 1px solid;"><span style="align-items: center;" class=" pt-1"> Tổng số: '+t.totalRows+"</span></p>&nbsp;&nbsp;&nbsp;",L+='<ul id="nav_list_number_of_page" class="text-right pagination" unselectable="on" style="user-select: none;">',t.listNumberRowsPerPage&&t.listNumberRowsPerPage.length>0)for(let R=0;R<t.listNumberRowsPerPage.length;R++){let k="";t.listNumberRowsPerPage[R]===t.pageSize&&(k="active"),L+='<li class="page-item px-1 '+k+' "><a id="'+h+t.listNumberRowsPerPage[R]+'" href="javascript:void(0);" title="Change number of page" class="page-link rounded-circle" style="padding: .5rem 0.6rem 0.5rem 0.3rem;width: 35px;height: 35px;">'+t.listNumberRowsPerPage[R]+"</a></li>"}L+="</ul>",L+="</div>",L+="</div>"}L+='<ul id="'+u+'" class="'+t.navListClass+'">',L+="</ul>",t.showGoToPage&&t.pageLinks<t.totalPages&&(L+='<div class="'+t.navGoToPageContainerClass+'">',L+='<div class="input-group">',L+='<span class="input-group-addon" title="'+o.go_to_page_title+'"><i class="'+t.navGoToPageIconClass+'"></i></span>',L+='<input id="'+I+'" type="text" class="'+t.navGoToPageClass+'" title="'+o.go_to_page_title+'">',L+="</div>",L+="</div>"),t.showRowsInfo&&(L+='<div class="'+t.navInfoContainerClass+'">',L+='<div id="'+_+'" class="'+t.navInfoClass+'"></div>',L+="</div>"),e.html(L),g(P,s=null,n=t.page,!0,!1),e.addClass(t.containerClass),t.directURL||(i="#"+x,e.off("click",i).on("click",i,function(){var a=t.page;t.page=1,g(P,a,t.page,!0,!0)}),p="#"+C,e.off("click",p).on("click",p,function(){if(t.page>1){var a=t.page;t.page=parseInt(t.page)-1;var s=t.page,n=e.data("nav_start")==a;g(P,a,s,n,!0)}}),d="#"+b,e.off("click",d).on("click",d,function(){if(t.page<t.totalPages){var a=t.page;t.page=parseInt(t.page)+1;var s=t.page,n=e.data("nav_end")==a;g(P,a,s,n,!0)}}),f="#"+w,e.off("click",f).on("click",f,function(){var a=t.page;t.page=parseInt(t.totalPages),g(P,a,t.page,!0,!0)}),c='[id^="'+m+'"]',e.off("click",c).on("click",c,function(e){var s=t.page,n=m.length;t.page=parseInt(a(e.target).attr("id").substr(n)),g(P,s,t.page,!1,!0)}),v='[id^="'+h+'"]',e.off("click",v).on("click",v,function(e){t.page;var s=h.length;t.pageSize=parseInt(a(e.target).attr("id").substr(s));var n=t.page;a("#nav_list_number_of_page .page-item").removeClass("active"),a(e.target).closest("li").addClass("active"),r({type:"changePage",page:n,pageSize:t.pageSize})}))}(),i};a.fn.pagination=function(t){return this.each(function(){var s=a(this);t.refresh=t.refresh||!1,s.data("gonrin")&&t.refresh&&s.data("gonrin",null),s.data("gonrin")||(t=a.extend(!0,{},a.fn.pagination.defaults,t),s.data("gonrin",e(s,t)))})},a.fn.pagination.defaults={refresh:!1,context:null,page:1,pageSize:10,totalPages:null,totalRows:null,virtualTotalPages:null,pageLinks:5,showGotoPage:!1,showRowsPerPage:!0,listNumberRowsPerPage:[15,20,50,100],showRowsInfo:!1,showRowsDefaultInfo:!0,containerClass:"row pagination-container borded-top-1 mx-0",pageClass:"page-item",pageOptionClass:"",linkClass:"page-link",linkOptionClass:"",directURL:!1,disableTextSelectionInNavPane:!0,mainWrapperClass:"col-lg-12 col-md-12 col-sm-12",navListContainerClass:"col-xs-12 col-sm-12 col-md-6",navListWrapperClass:"col-lg-12 col-md-12 col-xs-12",navListClass:"col-md-6 col-12 pl-1 text-right pagination justify-content-end pt-1",navListNumberOfPage:"col-md-6 col-12 px-1 pt-1",navListActiveItemClass:"active",navGoToPageContainerClass:"col-xs-6 col-sm-4 col-md-2 row-space",navGoToPageIconClass:"glyphicon glyphicon-arrow-right",navGoToPageClass:"form-control small-input",navRowsPerPageContainerClass:"col-xs-6 col-sm-4 col-md-2 row-space",navRowsPerPageIconClass:"glyphicon glyphicon-th-list",navRowsPerPageClass:"form-control small-input",navInfoContainerClass:"col-xs-12 col-sm-4 col-md-2 row-space",navInfoClass:"",navListIdPrefix:"nav_list_",navTopIdPrefix:"top_",navPrevIdPrefix:"prev_",navItemIdPrefix:"nav_item_",navNextIdPrefix:"next_",navLastIdPrefix:"last_",navNumberPageItemIdPrefix:"number_page_item_",navGotoPageIdPrefix:"goto_page_",navRowsPerPageIdPrefix:"rows_per_page_",navRowsInfoIdPrefix:"rows_info_",onChangePage:function(){},onLoad:function(){}}});
/**
 * ref
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else{if("undefined"==typeof jQuery)throw"Gonrin Ref requires jQuery to be loaded first";e(jQuery)}}((function(e){"use strict";var t=function(t,l){var n,i,o={},s=!1,r='<li class="ref-selection-choice float-left" style="margin-right: 5px;"></li>',a=!1,d=!1,u=!1,c=function(t){var o=d.uiControl.selectedItems;if("multiple"==t){s.find("ul").empty();var a=[];e.each(o,(function(t,n){var i=n[l.textField];if(e(r).html(i).appendTo(s.find("ul")),l.valueField){var o=n[l.valueField];a.push(o)}else a.push(n)})),i.val(JSON.stringify(a)),m({type:"change.gonrin",value:n=a})}else if("single"==t){var u=o.length>0?o[0][l.textField]:"";if(s.text(u),l.valueField){n=o.length>0?o[0][l.valueField]:null;var c=o.length>0?o[0][l.valueField]:"";i.val(c)}else n=o.length>0?o[0]:null,i.val(JSON.stringify(n));m({type:"change.gonrin",value:n})}},f=function(){return u.is(":hidden")?grobject:(u.off("mousedown",!1),u.hide(),o)},p=function(){return u.is(":hidden")?function(){if(u.empty(),d&&d.uiControl&&d.uiControl.selectedItems&&"multiple"===l.selectionMode){l.selectedItems=d.uiControl.selectedItems;var t=d.uiControl.selectedItems;e.each(t,(function(t,n){var i="<span>"+n[l.textField]+"</span>",o=e('<li class="dropdown-item;" style="position: relative; line-height: 34px; padding-left: 10px;">\n\t\t\t\t\t\t\t\t<a class="ref-wg-data" href="javascript:void(0)">\n\t\t\t\t\t\t\t\t\t<button class="btn btn-xs btn-danger ref-wg-data-del" style="position: absolute; right: 2px; padding: 3px 8px 3px 8px;">\n\t\t\t\t\t\t\t\t\t\t<span class="fa fa-times"></span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</a></li>');o.find("a.ref-wg-data").prepend(i),o.find(".ref-wg-data-del").unbind("click").bind("click",(function(){var e=d.uiControl.selectedItems.indexOf(n);e>-1&&d.uiControl.selectedItems.splice(e,1),o.remove(),d.uiControl.selectedItems&&0===d.uiControl.selectedItems.length&&u.hide(),c("multiple")})),u.append(o)}))}u.on("mousedown",!1),u.show()}():f()},g=function(){return i.prop("disabled")||!l.ignoreReadonly&&i.prop("readonly")||l.readonly||d&&(n&&("single"===l.selectionMode&&(d.uiControl.selectedItems=l.selectedItems=[n]),"multiple"===l.selectionMode&&(d.uiControl.selectedItems=l.selectedItems=n)),d.uiControl.filters=l.filters,d.dialog({size:l.size||"medium"}),d.on("onSelected",(function(){d&&d.uiControl&&d.uiControl.selectedItems&&(l.selectedItems=d.uiControl.selectedItems,"single"===l.selectionMode&&c("single"),"multiple"===l.selectionMode&&c("multiple"))}))),o},m=function(e){t.trigger(e)},h=function(){return g()},v=function(e){if(l.filters=e,d){var t=d.getCollectionElement();t&&t.filter(l.filters)}};if(o.disable=function(){return a&&a.hasClass("btn")&&a.addClass("disabled"),s&&s.prop("disabled",!0),i.prop("disabled",!0),o},o.getValue=function(){return n},o.setValue=function(e){d&&d.uiControl&&("single"===l.selectionMode&&(l.selectedItems=d.uiControl.selectedItems=null===e?[]:[e],c("single")),"multiple"===l.selectionMode&&(l.selectedItems=d.uiControl.selectedItems=null===e?[]:e,c("multiple")))},o.clearValue=function(){n=null,null,d&&("single"===d.selectionMode&&(s.text(""),i.val("")),"multiple"===d.selectionMode&&(s.find("ul").empty(),i.val(""))),m({type:"change.gonrin",value:n})},o.setFilters=v,o.filters=v,o.getFilters=function(){return l.filters},o.clearFilters=function(){if(l.filters=null,d){var e=d.getCollectionElement();e&&e.filter(null)}},o.setRefViewData=function(t,l){d&&(d.viewData||(d.viewData={}),"object"==typeof t&&e.each(t,(function(e,t){d.viewData[e]=t})),"string"==typeof t&&void 0!==l&&(d.viewData[t]=l))},!t.is("input"))throw new Error("Cannot apply to non input element");i=t,t.wrap('<div class="input-group"></div>');var y=t.parent(),C=e('<div class="input-group-append">');y.append(C);var w=e('<button type="button" style="padding:0px 15px" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-dropdown="dropdown">').html('<span class="fa fa-caret-down"></span>');if(C.append(w),a=w,s=e('<span class="form-control ref-form-control">'),"multiple"===l.selectionMode)e('<ul class="ref-selection-multiple"></ul>').appendTo(s);return t.before(s),t.css("display","none"),i.is("input")&&(!function(){if("function"==typeof l.dataSource){var t=l.dataSource;d=new t}else d=l.dataSource||null;if(d&&function(e){var t,l,n;for(t=0,l=(n=["dialog"]).length;t<l;t++)if(!e[n[t]])return!1;return!0}(d)){if(l.textField=l.textField||d.textField,d.uiControl.selectedItems=[],d.uiControl.selectionMode=l.selectionMode||"single",i.val())try{n=e.parseJSON(i.val())}catch(e){}if("single"===l.selectionMode&&n&&(d.uiControl.selectedItems=l.selectedItems=[n],s.text(n[l.textField])),"multiple"===l.selectionMode){l.dataSource&&(u=e('<ul class="dropdown-menu" style="overflow-y:scroll; width: 100%"></ul>'),a&&a.before(u),u.css("width",null!==l.width?l.width:"100%"),u.css("height",null!==l.height?l.height:"auto"),u.hide());var o=s.find("ul");o.unbind("click").bind("click",(function(){p()})),n&&(d.uiControl.selectedItems=l.selectedItems=n,e.each(n,(function(t,n){var i=n[l.textField];e(r).html(i).appendTo(o)})))}}}(),l.placeholder||(l.placeholder=i.attr("placeholder")),s&&l.placeholder&&s.attr("placeholder",l.placeholder)),l.onChange&&t.bind("change.gonrin",null!==l.context?e.proxy(l.onChange,l.context):l.onChange),s&&s.on({blur:f}),a&&(a.on("click",h),a.on("mousedown",!1)),o};e.fn.ref=function(l){return this.each((function(){var n=e(this);n.data("gonrin")||(l=e.extend(!0,{},e.fn.ref.defaults,l),n.data("gonrin",t(n,l)))}))},e.fn.ref.defaults={context:null,readonly:!1,placeholder:null,selectionMode:"single",selectedItems:[],debug:!1,filters:!1,textField:null,valueField:null,dataSource:null,onChange:function(){}}}));
/**
 * datetimepicker
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"gonrin.datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"gonrin.datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(ne,re){"use strict";if(!re)throw new Error("gonrin.datetimepicker requires Moment.js to be loaded first");function a(o,l){function n(e){var t=!1;return void 0!==re.tz&&void 0!==l.timeZone&&null!==l.timeZone&&""!==l.timeZone&&(t=!0),null==e?(t?re().tz(l.timeZone):re()).startOf("d"):t?(t=re().tz(l.timeZone).utcOffset(),re(e,Y,l.useStrict).utcOffset()!==t?(t=re().tz(l.timeZone).format("Z"),t=re(e,Y,l.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+t,re(t,Y,l.useStrict).tz(l.timeZone)):re(e,Y,l.useStrict).tz(l.timeZone)):re(e,Y,l.useStrict)}function d(e){if("string"!=typeof e||1<e.length)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==H.indexOf("Y");case"M":return-1!==H.indexOf("M");case"d":return-1!==H.toLowerCase().indexOf("d");case"h":case"H":return-1!==H.toLowerCase().indexOf("h");case"m":return-1!==H.indexOf("m");case"s":return-1!==H.indexOf("s");default:return!1}}function i(){return d("h")||d("m")||d("s")}function s(){return d("y")||d("M")||d("d")}function p(){var e,t,a=ne("<div>").addClass("timepicker-hours").append(ne("<table>").addClass("table-condensed")),n=ne("<div>").addClass("timepicker-minutes").append(ne("<table>").addClass("table-condensed")),r=ne("<div>").addClass("timepicker-seconds").append(ne("<table>").addClass("table-condensed")),i=[(e=ne("<tr>"),t=ne("<tr>"),i=ne("<tr>"),d("h")&&(e.append(ne("<td>").append(ne("<a>").attr({href:"#",tabindex:"-1",title:l.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(ne("<i>").addClass(l.icons.up)))),t.append(ne("<td>").append(ne("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:l.tooltips.pickHour}).attr("data-action","showHours"))),i.append(ne("<td>").append(ne("<a>").attr({href:"#",tabindex:"-1",title:l.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(ne("<i>").addClass(l.icons.down))))),d("m")&&(d("h")&&(e.append(ne("<td>").addClass("separator")),t.append(ne("<td>").addClass("separator").html(":")),i.append(ne("<td>").addClass("separator"))),e.append(ne("<td>").append(ne("<a>").attr({href:"#",tabindex:"-1",title:l.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(ne("<i>").addClass(l.icons.up)))),t.append(ne("<td>").append(ne("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:l.tooltips.pickMinute}).attr("data-action","showMinutes"))),i.append(ne("<td>").append(ne("<a>").attr({href:"#",tabindex:"-1",title:l.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(ne("<i>").addClass(l.icons.down))))),d("s")&&(d("m")&&(e.append(ne("<td>").addClass("separator")),t.append(ne("<td>").addClass("separator").html(":")),i.append(ne("<td>").addClass("separator"))),e.append(ne("<td>").append(ne("<a>").attr({href:"#",tabindex:"-1",title:l.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(ne("<i>").addClass(l.icons.up)))),t.append(ne("<td>").append(ne("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:l.tooltips.pickSecond}).attr("data-action","showSeconds"))),i.append(ne("<td>").append(ne("<a>").attr({href:"#",tabindex:"-1",title:l.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(ne("<i>").addClass(l.icons.down))))),E||(e.append(ne("<td>").addClass("separator")),t.append(ne("<td>").append(ne("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:l.tooltips.togglePeriod}))),i.append(ne("<td>").addClass("separator"))),ne("<div>").addClass("timepicker-picker").append(ne("<table>").addClass("table-condensed").append([e,t,i])))];return d("h")&&i.push(a),d("m")&&i.push(n),d("s")&&i.push(r),i}function e(){var e=ne("<div>").addClass("gonrin-datetimepicker-widget dropdown-menu"),t=ne("<div>").addClass("datepicker").append((n=ne("<thead>").append(ne("<tr>").append(ne("<th>").addClass("prev").attr("data-action","previous").append(ne("<i>").addClass(l.icons.previous))).append(ne("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",l.calendarWeeks?"6":"5")).append(ne("<th>").addClass("next").attr("data-action","next").append(ne("<i>").addClass(l.icons.next)))),r=ne("<tbody>").append(ne("<tr>").append(ne("<td>").attr("colspan",l.calendarWeeks?"8":"7"))),[ne("<div>").addClass("datepicker-days").append(ne("<table>").addClass("table-condensed").append(n).append(ne("<tbody>"))),ne("<div>").addClass("datepicker-months").append(ne("<table>").addClass("table-condensed").append(n.clone()).append(r.clone())),ne("<div>").addClass("datepicker-years").append(ne("<table>").addClass("table-condensed").append(n.clone()).append(r.clone())),ne("<div>").addClass("datepicker-decades").append(ne("<table>").addClass("table-condensed").append(n.clone()).append(r.clone()))])),a=ne("<div>").addClass("timepicker").append(p()),n=ne("<ul>").addClass("list-unstyled"),r=ne("<li>").addClass("picker-switch"+(l.collapse?" accordion-toggle":"")).append((r=[],l.showTodayButton&&r.push(ne("<td>").append(ne("<a>").attr({"data-action":"today",title:l.tooltips.today}).append(ne("<i>").addClass(l.icons.today)))),!l.sideBySide&&s()&&i()&&r.push(ne("<td>").append(ne("<a>").attr({"data-action":"togglePicker",title:l.tooltips.selectTime}).append(ne("<i>").addClass(l.icons.time)))),l.showClear&&r.push(ne("<td>").append(ne("<a>").attr({"data-action":"clear",title:l.tooltips.clear}).append(ne("<i>").addClass(l.icons.clear)))),l.showClose&&r.push(ne("<td>").append(ne("<a>").attr({"data-action":"close",title:l.tooltips.close}).append(ne("<i>").addClass(l.icons.close)))),ne("<table>").addClass("table-condensed").append(ne("<tbody>").append(ne("<tr>").append(r)))));return l.inline&&e.removeClass("dropdown-menu"),E&&e.addClass("usetwentyfour"),d("s")&&!E&&e.addClass("wider"),l.sideBySide&&s()&&i()?(e.addClass("timepicker-sbs"),"top"===l.toolbarPlacement&&e.append(r),e.append(ne("<div>").addClass("row").append(t.addClass("col-md-6")).append(a.addClass("col-md-6"))),"bottom"===l.toolbarPlacement&&e.append(r),e):("top"===l.toolbarPlacement&&n.append(r),s()&&n.append(ne("<li>").addClass(l.collapse&&i()?"collapse show":"").append(t)),"default"===l.toolbarPlacement&&n.append(r),i()&&n.append(ne("<li>").addClass(l.collapse&&s()?"collapse":"").append(a)),"bottom"===l.toolbarPlacement&&n.append(r),e.append(n))}function a(){var e,t=(L||P).position(),a=(L||P).offset(),n=P.offset(),r=l.widgetPositioning.vertical,i=l.widgetPositioning.horizontal;if(l.widgetParent)e=l.widgetParent.append(z);else if(o.is("input"))e=o.after(z).parent(),t=P.position();else{if(l.inline)return void(e=o.append(z));(e=o).children().first().after(z)}if("auto"===r&&(r=a.top+1.5*z.height()>=ne(window).height()+ne(window).scrollTop()&&z.height()+P.outerHeight()<a.top?"top":"bottom"),L||(r="bottom"),"auto"===i&&(i=!(e.width()<a.left+z.outerWidth()/2&&z.outerWidth()>a.left+(L?L.outerWidth():0)&&n.left+z.outerWidth()<ne(window).width())&&e.width()<a.left+z.outerWidth()/2&&a.left+z.outerWidth()>ne(window).width()?"right":"left"),"top"===r?z.addClass("top").removeClass("bottom"):z.addClass("bottom").removeClass("top"),"right"===i?z.addClass("pull-right"):z.removeClass("pull-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===ne(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");z.css({top:"top"===r?"auto":t.top+P.outerHeight(),bottom:"top"===r?t.top+P.outerHeight():"auto",left:"left"===i?e===P?0:t.left:"auto",right:"left"===i?"auto":e.outerWidth()-e.outerWidth()-(e===P?0:t.left)})}function r(e){"change.gonrin"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||o.trigger(e)}function t(e){"y"===e&&(e="YYYY"),r({type:"update.gonrin",change:e,viewDate:S.clone()})}function c(e){z&&(e&&(q=Math.max(V,Math.min(3,q+e))),z.find(".datepicker > div").hide().filter(".datepicker-"+N[q].clsName).show())}function u(e,t){var a,n;if(e.isValid()&&!(l.disabledDates&&"d"===t&&(a=e,!0===l.disabledDates[a.format("YYYY-MM-DD")])||l.enabledDates&&"d"===t&&(a=e,!0!==l.enabledDates[a.format("YYYY-MM-DD")])||l.minDate&&e.isBefore(l.minDate,t)||l.maxDate&&e.isAfter(l.maxDate,t)||l.daysOfWeekDisabled&&"d"===t&&-1!==l.daysOfWeekDisabled.indexOf(e.day())||l.disabledHours&&("h"===t||"m"===t||"s"===t)&&(n=e,!0===l.disabledHours[n.format("H")])||l.enabledHours&&("h"===t||"m"===t||"s"===t)&&(n=e,!0!==l.enabledHours[n.format("H")]))){if(l.disabledTimeIntervals&&("h"===t||"m"===t||"s"===t)){var r=!1;if(ne.each(l.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return!(r=!0)}),r)return}return 1}}function f(){if(z){var e,t,a,n,r,i=z.find(".datepicker-days"),o=i.find("th"),d=[];if(s()){for(o.eq(0).find("span").attr("title",l.tooltips.prevMonth),o.eq(1).attr("title",l.tooltips.selectMonth),o.eq(2).find("span").attr("title",l.tooltips.nextMonth),i.find(".disabled").removeClass("disabled"),o.eq(1).text(S.format(l.dayViewHeaderFormat)),u(S.clone().subtract(1,"M"),"M")||o.eq(0).addClass("disabled"),u(S.clone().add(1,"M"),"M")||o.eq(2).addClass("disabled"),e=S.clone().startOf("M").startOf("w").startOf("d"),n=0;n<42;n++)0===e.weekday()&&(t=ne("<tr>"),l.calendarWeeks&&t.append('<td class="cw">'+e.week()+"</td>"),d.push(t)),a="",e.isBefore(S,"M")&&(a+=" old"),e.isAfter(S,"M")&&(a+=" new"),e.isSame(O,"d")&&!A&&(a+=" active"),u(e,"d")||(a+=" disabled"),e.isSame(re(),"d")&&(a+=" today-hc"),0!==e.day()&&6!==e.day()||(a+=" weekend"),t.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="day'+a+'">'+e.date()+"</td>"),e.add(1,"d");i.find("tbody").empty().append(d),z&&(o=(r=z.find(".datepicker-months")).find("th"),i=r.find("tbody").find("span"),o.eq(0).find("span").attr("title",l.tooltips.prevYear),o.eq(1).attr("title",l.tooltips.selectYear),o.eq(2).find("span").attr("title",l.tooltips.nextYear),r.find(".disabled").removeClass("disabled"),u(S.clone().subtract(1,"y"),"y")||o.eq(0).addClass("disabled"),o.eq(1).text(S.year()),u(S.clone().add(1,"y"),"y")||o.eq(2).addClass("disabled"),i.removeClass("active"),O.isSame(S,"y")&&!A&&i.eq(O.month()).addClass("active"),i.each(function(e){u(S.clone().month(e),"M")||ne(this).addClass("disabled")})),function(){if(z){var e=z.find(".datepicker-years"),t=e.find("th"),a=S.clone().subtract(5,"y"),n=S.clone().add(6,"y"),r="";for(t.eq(0).find("span").attr("title",l.tooltips.prevDecade),t.eq(1).attr("title",l.tooltips.selectDecade),t.eq(2).find("span").attr("title",l.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),l.minDate&&l.minDate.isAfter(a,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(a.year()+"-"+n.year()),l.maxDate&&l.maxDate.isBefore(n,"y")&&t.eq(2).addClass("disabled");!a.isAfter(n,"y");)r+='<span data-action="selectYear" class="year'+(a.isSame(O,"y")&&!A?" active":"")+(u(a,"y")?"":" disabled")+'">'+a.year()+"</span>",a.add(1,"y");e.find("td").html(r)}}(),function(){if(z){var e,t,a,n=z.find(".datepicker-decades"),r=n.find("th"),i=re({y:S.year()-S.year()%100-1}),o=i.clone().add(100,"y"),d=i.clone(),s="";for(r.eq(0).find("span").attr("title",l.tooltips.prevCentury),r.eq(2).find("span").attr("title",l.tooltips.nextCentury),n.find(".disabled").removeClass("disabled"),(i.isSame(re({y:1900}))||l.minDate&&l.minDate.isAfter(i,"y"))&&r.eq(0).addClass("disabled"),r.eq(1).text(i.year()+"-"+o.year()),(i.isSame(re({y:2e3}))||l.maxDate&&l.maxDate.isBefore(o,"y"))&&r.eq(2).addClass("disabled");!i.isAfter(o,"y");)a=i.year()+12,e=l.minDate&&l.minDate.isAfter(i,"y")&&l.minDate.year()<=a,t=l.maxDate&&l.maxDate.isAfter(i,"y")&&l.maxDate.year()<=a,s+='<span data-action="selectDecade" class="decade'+(O.isAfter(i)&&O.year()<=a?" active":"")+(u(i,"y")||e||t?"":" disabled")+'" data-selection="'+(i.year()+6)+'">'+(i.year()+1)+" - "+(i.year()+12)+"</span>",i.add(12,"y");s+="<span></span><span></span><span></span>",n.find("td").html(s),r.eq(1).text(d.year()+1+"-"+i.year())}}()}}}function m(){var e,t,a;z&&(a=z.find(".timepicker span[data-time-component]"),E||(e=z.find(".timepicker [data-action=togglePeriod]"),t=O.clone().add(12<=O.hours()?-12:12,"h"),e.text(O.format("A")),u(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),a.filter("[data-time-component=hours]").text(O.format(E?"HH":"hh")),a.filter("[data-time-component=minutes]").text(O.format("mm")),a.filter("[data-time-component=seconds]").text(O.format("ss")),function(){var e=z.find(".timepicker-hours table"),t=S.clone().startOf("d"),a=[],n=ne("<tr>");for(11<S.hour()&&!E&&t.hour(12);t.isSame(S,"d")&&(E||S.hour()<12&&t.hour()<12||11<S.hour());)t.hour()%4==0&&(n=ne("<tr>"),a.push(n)),n.append('<td data-action="selectHour" class="hour'+(u(t,"h")?"":" disabled")+'">'+t.format(E?"HH":"hh")+"</td>"),t.add(1,"h");e.empty().append(a)}(),function(){for(var e=z.find(".timepicker-minutes table"),t=S.clone().startOf("h"),a=[],n=ne("<tr>"),r=1===l.stepping?5:l.stepping;S.isSame(t,"h");)t.minute()%(4*r)==0&&(n=ne("<tr>"),a.push(n)),n.append('<td data-action="selectMinute" class="minute'+(u(t,"m")?"":" disabled")+'">'+t.format("mm")+"</td>"),t.add(r,"m");e.empty().append(a)}(),function(){for(var e=z.find(".timepicker-seconds table"),t=S.clone().startOf("m"),a=[],n=ne("<tr>");S.isSame(t,"m");)t.second()%20==0&&(n=ne("<tr>"),a.push(n)),n.append('<td data-action="selectSecond" class="second'+(u(t,"s")?"":" disabled")+'">'+t.format("ss")+"</td>"),t.add(5,"s");e.empty().append(a)}())}function h(){z&&(f(),m())}function y(e){var t=A?null:O,a=A?null:W;if(null==e||null==e||""===e)return te.val(""),P.val(""),o.data("date",null),A=!0,W=null,h(),r({type:"change.gonrin",date:null,oldDate:t,oldValue:a}),K(),0;e=e.clone().locale(l.locale),1!==l.stepping&&e.minutes(Math.round(e.minutes()/l.stepping)*l.stepping%60).seconds(0),u(e)?(S=(O=e).clone(),W=void 0===l.parseOutputDate?O.format(H):l.parseOutputDate(O),te.val(W),P.val(O.format(I)),o.data("date",O.format(H)),A=!1,h(),r({type:"change.gonrin",date:O.clone(),oldDate:t,oldValue:a}),K()):(l.keepInvalid?r({type:"change.gonrin",date:e,oldDate:t}):(te.val(A?"":O.format(H)),P.val(A?"":O.format(I))),r({type:"error.gonrin",date:e})),K()}function g(){setValue(null)}function w(e){return ne(e.currentTarget).is(".disabled")||X[ne(e.currentTarget).data("action")].apply(F,arguments),!1}function b(){return te.prop("disabled")||!l.ignoreReadonly&&te.prop("readonly")||z||!l.ignoreReadonly&&l.readonly||(void 0!==te.val()&&0!==te.val().trim().length?y($(te.val().trim())):l.useCurrent&&A&&(te.is("input")&&0===te.val().trim().length||l.inline)&&y(null),z=e(),function(){var e=ne("<tr>"),t=S.clone().startOf("w").startOf("d");for(!0===l.calendarWeeks&&e.append(ne("<th>").addClass("cw").text("#"));t.isBefore(S.clone().endOf("w"));)e.append(ne("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");z.find(".datepicker-days thead").append(e)}(),function(){for(var e=[],t=S.clone().startOf("y").startOf("d");t.isSame(S,"y");)e.push(ne("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");z.find(".datepicker-months td").empty().append(e)}(),z.find(".timepicker-hours").hide(),z.find(".timepicker-minutes").hide(),z.find(".timepicker-seconds").hide(),h(),c(),ne(window).on("resize",a),z.on("click","[data-action]",w),z.on("mousedown",!1),L&&L.hasClass("btn")&&L.toggleClass("active"),z.show(),a(),l.focusOnShow&&!P.is(":focus")&&P.focus(),r({type:"show.gonrin"})),F}function v(){return(z?K:b)()}function k(e){var t,a,n,r,i=null,o=[],d={},s=e.which;for(t in J[s]="p",J)J.hasOwnProperty(t)&&"p"===J[t]&&(o.push(t),parseInt(t,10)!==s&&(d[t]=!0));for(t in l.keyBinds)if(l.keyBinds.hasOwnProperty(t)&&"function"==typeof l.keyBinds[t]&&(n=t.split(" ")).length===o.length&&G[s]===n[n.length-1]){for(r=!0,a=n.length-2;0<=a;a--)if(!(G[n[a]]in d)){r=!1;break}if(r){i=l.keyBinds[t];break}}i&&(i.call(F,z),e.stopPropagation(),e.preventDefault())}function C(e){J[e.which]="r",e.stopPropagation(),e.preventDefault()}function x(e){var t=ne(e.target).val().trim(),a=null;return""==t?y(null):((a=(re.isMoment(t)||t instanceof Date?re:n)(t)).locale(l.locale),y(a)),e.stopImmediatePropagation(),!1}function D(e){var t={};return ne.each(e,function(){var e=$(this);e.isValid()&&(t[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(t).length&&t}function M(e){var t={};return ne.each(e,function(){t[this]=!0}),!!Object.keys(t).length&&t}function T(){var e=l.format||"L LT";H=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(O.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return O.localeData().longDateFormat(e)||e})}),(Y=l.extraFormats?l.extraFormats.slice():[]).indexOf(e)<0&&Y.indexOf(H)<0&&Y.push(H),I=l.textFormat||H,E=H.toLowerCase().indexOf("a")<1&&H.replace(/\[.*?\]/g,"").indexOf("h")<1,d("y")&&(V=2),d("M")&&(V=1),d("d")&&(V=0),q=Math.max(V,q),A||y(O)}var O,S,P,E,H,I,Y,q,B,j,F={},W=null,A=!0,L=!1,z=!1,V=0,N=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],Z=["days","months","years","decades"],R=["top","bottom","auto"],U=["left","right","auto"],Q=["default","top","bottom"],G={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},J={},K=function(){var t=!1;return z?(z.find(".collapse").each(function(){var e=ne(this).data("collapse");return!e||!e.transitioning||!(t=!0)}),t||(L&&L.hasClass("btn")&&L.toggleClass("active"),z.hide(),ne(window).off("resize",a),z.off("click","[data-action]"),z.off("mousedown",!1),z.remove(),z=!1,r({type:"hide.gonrin",date:O.clone()}),te.blur()),F):F},X={next:function(){var e=N[q].navFnc;S.add(N[q].navStep,e),f(),t(e)},previous:function(){var e=N[q].navFnc;S.subtract(N[q].navStep,e),f(),t(e)},pickerSwitch:function(){c(1)},selectMonth:function(e){e=ne(e.target).closest("tbody").find("span").index(ne(e.target));S.month(e),q===V?(y(O.clone().year(S.year()).month(S.month())),l.inline||K()):(c(-1),f()),t("M")},selectYear:function(e){e=parseInt(ne(e.target).text(),10)||0;S.year(e),q===V?(y(O.clone().year(S.year())),l.inline||K()):(c(-1),f()),t("YYYY")},selectDecade:function(e){e=parseInt(ne(e.target).data("selection"),10)||0;S.year(e),q===V?(y(O.clone().year(S.year())),l.inline||K()):(c(-1),f()),t("YYYY")},selectDay:function(e){var t=S.clone();ne(e.target).is(".old")&&t.subtract(1,"M"),ne(e.target).is(".new")&&t.add(1,"M"),P.trigger("blur"),y(t.date(parseInt(ne(e.target).text(),10))),i()||l.keepOpen||l.inline||K()},incrementHours:function(){var e=O.clone().add(1,"h");u(e,"h")&&y(e)},incrementMinutes:function(){var e=O.clone().add(l.stepping,"m");u(e,"m")&&y(e)},incrementSeconds:function(){var e=O.clone().add(1,"s");u(e,"s")&&y(e)},decrementHours:function(){var e=O.clone().subtract(1,"h");u(e,"h")&&y(e)},decrementMinutes:function(){var e=O.clone().subtract(l.stepping,"m");u(e,"m")&&y(e)},decrementSeconds:function(){var e=O.clone().subtract(1,"s");u(e,"s")&&y(e)},togglePeriod:function(){y(O.clone().add(12<=O.hours()?-12:12,"h"))},togglePicker:function(e){var t=ne(e.target),a=t.closest("ul"),n=a.find(".show"),e=a.find(".collapse:not(.show)");n&&n.length&&((a=n.data("collapse"))&&a.transitioning||(n.collapse?(n.collapse("hide"),e.collapse("show")):(n.removeClass("show"),e.addClass("show")),(t.is("i")?t:t.find("i")).toggleClass(l.icons.time+" "+l.icons.date)))},showPicker:function(){z.find(".timepicker > div:not(.timepicker-picker)").hide(),z.find(".timepicker .timepicker-picker").show()},showHours:function(){z.find(".timepicker .timepicker-picker").hide(),z.find(".timepicker .timepicker-hours").show()},showMinutes:function(){z.find(".timepicker .timepicker-picker").hide(),z.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){z.find(".timepicker .timepicker-picker").hide(),z.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){e=parseInt(ne(e.target).text(),10);E||(12<=O.hours()?12!==e&&(e+=12):12===e&&(e=0)),y(O.clone().hours(e)),X.showPicker.call(F)},selectMinute:function(e){y(O.clone().minutes(parseInt(ne(e.target).text(),10))),X.showPicker.call(F)},selectSecond:function(e){y(O.clone().seconds(parseInt(ne(e.target).text(),10))),X.showPicker.call(F)},clear:g,today:function(){var e=n();u(e,"d")&&y(e)},close:K},$=function(e){return null==e?null:((e=void 0===l.parseInputDate?(re.isMoment(e)||e instanceof Date?re:n)(e):l.parseInputDate(e)).locale(l.locale),e)};if(F.destroy=function(){K(),P.off({change:x,blur:l.debug?"":K,keydown:k,keyup:C,focus:l.allowInputToggle?b:""}),L&&(L.off("click",v),L.off("mousedown",!1)),o.removeData("DateTimePicker"),o.removeData("date")},F.toggle=v,F.show=b,F.hide=K,F.disable=function(){return K(),L&&L.hasClass("btn")&&L.addClass("disabled"),te.prop("disabled",!0),F},F.enable=function(){return L&&L.hasClass("btn")&&L.removeClass("disabled"),te.prop("disabled",!1),F},F.ignoreReadonly=function(e){if(0===arguments.length)return l.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return l.ignoreReadonly=e,F},F.options=function(e){if(0===arguments.length)return ne.extend(!0,{},l);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return ne.extend(!0,l,e),ne.each(l,function(e,t){void 0!==F[e]&&F[e](t)}),F},F.date=function(e){if(0===arguments.length)return A?null:O.clone();if(!(null===e||"string"==typeof e||re.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return y(null===e?null:$(e)),F},F.format=function(e){if(0===arguments.length)return l.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return l.format=e,H&&T(),F},F.textFormat=function(e){return 0===arguments.length?l.textFormat:(l.textFormat=e,F)},F.timeZone=function(e){return 0===arguments.length?l.timeZone:(l.timeZone=e,F)},F.dayViewHeaderFormat=function(e){if(0===arguments.length)return l.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return l.dayViewHeaderFormat=e,F},F.extraFormats=function(e){if(0===arguments.length)return l.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return l.extraFormats=e,Y&&T(),F},F.disabledDates=function(e){if(0===arguments.length)return l.disabledDates&&ne.extend({},l.disabledDates);if(!e)return l.disabledDates=!1,h(),F;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return l.disabledDates=D(e),l.enabledDates=!1,h(),F},F.enabledDates=function(e){if(0===arguments.length)return l.enabledDates&&ne.extend({},l.enabledDates);if(!e)return l.enabledDates=!1,h(),F;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return l.enabledDates=D(e),l.disabledDates=!1,h(),F},F.daysOfWeekDisabled=function(e){if(0===arguments.length)return l.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return l.daysOfWeekDisabled=!1,h(),F;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(l.daysOfWeekDisabled=e.reduce(function(e,t){return 6<(t=parseInt(t,10))||t<0||isNaN(t)||-1===e.indexOf(t)&&e.push(t),e},[]).sort(),l.useCurrent&&!l.keepInvalid){for(var t=0;!u(O,"d");){if(O.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}y(O)}return h(),F},F.maxDate=function(e){if(0===arguments.length)return l.maxDate&&l.maxDate.clone();if("boolean"==typeof e&&!1===e)return l.maxDate=!1,h(),F;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=n()));var t=$(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(l.minDate&&t.isBefore(l.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(H));return l.maxDate=t,l.useCurrent&&!l.keepInvalid&&O.isAfter(e)&&y(l.maxDate),S.isAfter(t)&&(S=t.clone().subtract(l.stepping,"m")),h(),F},F.minDate=function(e){if(0===arguments.length)return l.minDate&&l.minDate.clone();if("boolean"==typeof e&&!1===e)return l.minDate=!1,h(),F;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=n()));var t=$(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(l.maxDate&&t.isAfter(l.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(H));return l.minDate=t,l.useCurrent&&!l.keepInvalid&&O.isBefore(e)&&y(l.minDate),S.isBefore(t)&&(S=t.clone().add(l.stepping,"m")),h(),F},F.defaultDate=function(e){if(0===arguments.length)return l.defaultDate&&l.defaultDate.clone();if(!e)return l.defaultDate=!1,F;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=n()));var t=$(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!u(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return l.defaultDate=t,(l.defaultDate&&l.inline||""===te.val().trim())&&y(l.defaultDate),F},F.locale=function(e){if(0===arguments.length)return l.locale;if(!re.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return l.locale=e,O.locale(l.locale),S.locale(l.locale),H&&T(),z&&(K(),b()),F},F.stepping=function(e){return 0===arguments.length?l.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),l.stepping=e,F)},F.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return l.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return l.useCurrent=e,F},F.collapse=function(e){if(0===arguments.length)return l.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return l.collapse===e||(l.collapse=e,z&&(K(),b())),F},F.icons=function(e){if(0===arguments.length)return ne.extend({},l.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return ne.extend(l.icons,e),z&&(K(),b()),F},F.tooltips=function(e){if(0===arguments.length)return ne.extend({},l.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return ne.extend(l.tooltips,e),z&&(K(),b()),F},F.useStrict=function(e){if(0===arguments.length)return l.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return l.useStrict=e,F},F.sideBySide=function(e){if(0===arguments.length)return l.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return l.sideBySide=e,z&&(K(),b()),F},F.viewMode=function(e){if(0===arguments.length)return l.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===Z.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+Z.join(", ")+") value");return l.viewMode=e,q=Math.max(Z.indexOf(e),V),c(),F},F.toolbarPlacement=function(e){if(0===arguments.length)return l.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===Q.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+Q.join(", ")+") value");return l.toolbarPlacement=e,z&&(K(),b()),F},F.widgetPositioning=function(e){if(0===arguments.length)return ne.extend({},l.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===U.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+U.join(", ")+")");l.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===R.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+R.join(", ")+")");l.widgetPositioning.vertical=e.vertical}return h(),F},F.calendarWeeks=function(e){if(0===arguments.length)return l.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return l.calendarWeeks=e,h(),F},F.showTodayButton=function(e){if(0===arguments.length)return l.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return l.showTodayButton=e,z&&(K(),b()),F},F.showClear=function(e){if(0===arguments.length)return l.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return l.showClear=e,z&&(K(),b()),F},F.widgetParent=function(e){if(0===arguments.length)return l.widgetParent;if("string"==typeof e&&(e=ne(e)),null!==e&&"string"!=typeof e&&!(e instanceof ne))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return l.widgetParent=e,z&&(K(),b()),F},F.keepOpen=function(e){if(0===arguments.length)return l.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return l.keepOpen=e,F},F.focusOnShow=function(e){if(0===arguments.length)return l.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return l.focusOnShow=e,F},F.inline=function(e){if(0===arguments.length)return l.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return l.inline=e,F},F.clear=function(){return g(),F},F.keyBinds=function(e){return l.keyBinds=e,F},F.getMoment=n,F.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return l.debug=e,F},F.allowInputToggle=function(e){if(0===arguments.length)return l.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return l.allowInputToggle=e,F},F.showClose=function(e){if(0===arguments.length)return l.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return l.showClose=e,F},F.keepInvalid=function(e){if(0===arguments.length)return l.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return l.keepInvalid=e,F},F.datepickerInput=function(e){if(0===arguments.length)return l.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return l.datepickerInput=e,F},F.parseInputDate=function(e){if(0===arguments.length)return l.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return l.parseInputDate=e,F},F.disabledTimeIntervals=function(e){if(0===arguments.length)return l.disabledTimeIntervals&&ne.extend({},l.disabledTimeIntervals);if(!e)return l.disabledTimeIntervals=!1,h(),F;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return l.disabledTimeIntervals=e,h(),F},F.disabledHours=function(e){if(0===arguments.length)return l.disabledHours&&ne.extend({},l.disabledHours);if(!e)return l.disabledHours=!1,h(),F;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(l.disabledHours=M(e),l.enabledHours=!1,l.useCurrent&&!l.keepInvalid){for(var t=0;!u(O,"h");){if(O.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}y(O)}return h(),F},F.enabledHours=function(e){if(0===arguments.length)return l.enabledHours&&ne.extend({},l.enabledHours);if(!e)return l.enabledHours=!1,h(),F;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(l.enabledHours=M(e),l.disabledHours=!1,l.useCurrent&&!l.keepInvalid){for(var t=0;!u(O,"h");){if(O.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}y(O)}return h(),F},F.viewDate=function(e){if(0===arguments.length)return S.clone();if(!e)return S=O.clone(),F;if(!("string"==typeof e||re.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return S=$(e),t(),F},F.getDate=function(){return O?O.clone().toDate():null},F.setDate=function(e){y(e)},F.setValue=function(e){"string"===ne.type(e)?y($(e.trim())):null!==e&&""!==e?y($(e)):(y($(e)),W=null),W=e},F.getValue=function(){return W},ne.extend(!0,l,(B={},(j=(o.is("input")||l.inline?o:o.find("input")).data()).dateOptions&&j.dateOptions instanceof Object&&(B=ne.extend(!0,B,j.dateOptions)),ne.each(l,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==j[t]&&(B[e]=j[t])}),B)),!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");var _,ee,te=o,L=l.disabledComponentButton?null:(_=(ee=o.parent()).is("div")&&ee.hasClass("date-group")?ee:(o.wrap('<div class="input-group date-group"></div>'),o.parent()),0!=(ee=o.nextAll("span:first")).length&&ne(ee[0]).hasClass("input-group-append")||(ee=ne('<span class="input-group-append">').html('<span class="btn btn-outline-secondary input-group-addon"><i class="fa fa-calendar"></i></span>'),_.append(ee)),ee),ae=o.prev("input");return 0!=ae.length&&ne(ae[0]).hasClass("datetimepicker-input")||(ae=ne('<input class="datetimepicker-input" type="text" placeholder="DD/MM/YYYY">'),(ee=o.attr("class"))&&(ee=ee.split(" "),ne.each(ee,function(e,t){ae.addClass(t)})),o.before(ae)),o.attr("required")&&ae.attr("required",""),P=ae,l.hasOwnProperty("cssClass")?l.hasOwnProperty("cssClass")&&!1!==l.cssClass&&P.addClass(l.cssClass):P.addClass("form-control"),o.css("display","none"),O=n(),S=O.clone(),F.options(l),T(),P.on({change:x,blur:l.debug?"":K,keydown:k,keyup:C,focus:l.allowInputToggle?b:""}),P.on("keyup",function(e){13===e.keyCode&&P.trigger("blur")}),L&&(L.on("click",v),L.on("mousedown",!1)),te.prop("disabled")&&F.disable(),te.is("input")&&0!==te.val().trim().length?y($(te.val().trim())):l.defaultDate&&void 0===te.attr("placeholder")&&y(l.defaultDate),!l.ignoreReadonly&&l.readonly&&P.prop("readonly",!0),l.inline&&b(),F}ne.fn.datetimepicker=function(t){return this.each(function(){var e=ne(this);e.data("gonrin")||(t=ne.extend(!0,{},ne.fn.datetimepicker.defaults,t),e.data("gonrin",a(e,t)))})},ne.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,textFormat:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:"vi",defaultDate:!1,disabledDates:!1,enabledDates:!1,readonly:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-crosshairs",clear:"fa fa-trash-o",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m")))},down:function(e){var t;e?(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))):this.show()},"control up":function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h")))},"control down":function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h")))},left:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d")))},right:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d")))},pageUp:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M")))},pageDown:function(e){var t;e&&(t=this.date()||this.getMoment(),e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M")))},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!0,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,disabledComponentButton:!1,viewDate:!1}});
/**
 * combobox
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else{if("undefined"==typeof jQuery)throw"gonrin combobox requires jQuery to be loaded first";e(jQuery)}}((function(e){"use strict";var n=function(n,l){var t,o,a,i,r,s,d,u,c=window.gonrin,f={},p=-1,h=!1,v=!1,g='<li class="dropdown-item"><a href="javascript:void(0)"></a></li>',m=!1,b=!1,y=!1,w=38,x=40,C=9,F=27,j=13,S=function(){return l.dataSource&&(y=e('<ul class="dropdown-menu" style="overflow-y:scroll; width: 100%;"></ul>'),l.headerTemplate&&y.prepend(e("<li>").addClass("dropdown-header").html(l.headerTemplate)),m&&m.before(y),e.isArray(l.dataSource)&&(a=l.dataSource,e.isArray(a)&&a.length>0&&e.each(a,(function(n,o){var a,i,s=e(g);"object"==typeof o?(r="object",null!=l.valueField&&null!=l.textField&&(a=o[l.valueField],l.template&&c.template?i=c.template(l.template)(o):(s=e(g),i=o[l.textField]))):(r="common",a=o,i=o),s.find("a").html(i),y.append(s),"single"===l.selectionMode?(t===a&&M(n),s.bind("click",(function(){M(n),T()}))):"multiple"===l.selectionMode&&(e.isArray(t)&&e.inArray(a,t)>-1&&k(n),s.bind("click",(function(){k(n)})))}))),e.isPlainObject(l.dataSource)&&l.auto_bind&&console.log("bind to Ajax datasource"),y.css("width",null!==l.width?l.width:"100%"),y.css("height",null!==l.height?l.height:"auto"),y.css("max-height","200px"),y.hide()),f},M=function(n){if(a&&a.length>0&&a.length>n&&n>-1){var s,d,u=a[n],c=t;if("object"===r){if(null==l.valueField||null==l.textField)return;s=u[l.textField],d=u[l.valueField]}else"common"===r&&(s=u,d=u);return h&&(o=s,h.val(s)),p=n,i.val(d),t=d,y.find("li").not(".dropdown-header").removeClass("active"),e(y.find("li").not(".dropdown-header")[n]).addClass("active"),_(n),E(null),void V({type:"change.gonrin",value:d,oldValue:c})}},k=function(n,i){if(a&&a.length>0&&a.length>n&&n>-1){var s,d,u=a[n],c=t.slice(0);if(i&&(c=i),"object"===r){if(null==l.valueField||null==l.textField)return;s=u[l.textField],d=u[l.valueField]}else"common"===r&&(s=u,d=u);var f=e(y.find("li").not(".dropdown-header")[n]);if(f.hasClass("active")){if(f.removeClass("active"),e.isArray(t)){for(var p=-1,v=0;v<t.length;v++)if(t[v]==d){p=v;break}p>-1&&t.splice(p,1)}o===s?(o="",h.val(o)):o.startsWith(s+",")?(o=o.replace(s+",",""),h.val(o)):(o=o.replace(","+s,""),h.val(o))}else f.addClass("active"),e.isArray(t)&&t.push(d),h&&(o=o&&o.length>0?o+","+s:s,h.val(o));return E(null),void V({type:"change.gonrin",value:t,oldValue:c})}},A=function(){return i.prop("disabled")||!l.ignore_readonly&&i.prop("readonly")||y.is(":visible")||(y.on("mousedown",!1),y.show(),h.off("focus"),W(),V({type:"show.gonrin"})),f},T=function(){return y.is(":hidden")||(y.off("mousedown",!1),h.is(":focus")&&h.blur(),y.hide(),V({type:"hide.gonrin",value:t})),f},O=function(){return y.is(":hidden")?A():T()},V=function(e){"change.gonrin"===e.type&&e.value&&e.value===e.oldValue||n.trigger(e)},_=function(n){var l=e(y.find("li").not(".dropdown-header")[n]);l&&function(e){if(e){e[0]&&(e=e[0]);var n=y[0],l=e.offsetTop,t=e.offsetHeight,o=n.scrollTop,a=n.clientHeight,i=l+t;o>l?o=l:i>o+a&&(o=i-a),n.scrollTop=o}}(l)},q=function(e){if("multiple"!==l.selectionMode){var n,t,o=e.keyCode,i=o===x;return o===w||i?(e.altKey?O():(A(),!(t=p)>-1&&(i?t<a.length-1&&M(t+1):t>0&&M(t-1))),e.preventDefault(),n=!0):o===j||o===C?(O(),n=!0):o===F&&(T(),n=!0),n}e.preventDefault()},D=function(e){var n=e.keyCode;if(n,clearTimeout(d),d=null,n!=C&&!q(e)){if(!1===l.filter)return!1;Q()}},z=function(n){e(n.target).val().trim();return n.stopImmediatePropagation(),!1},Q=function(){h&&(d=setTimeout((function(){var e,n,t=h.val();s!==t&&(s=t,n=(e="string"==typeof(e=t)?e:h.val()).length,l.ignoreCase,l.filter,l.textField,clearTimeout(d),!n||l.minLength),d=null}),l.delay))},W=function(){H(),h&&h.on({change:z,blur:l.debug?"":T,keydown:D,focus:A}),m&&(m.on("click",O),m.on("mousedown",!1))},E=function(e,n){null===e?(v.removeClass("has-warning has-error has-success"),b.html(""),b.hide()):"warning"!==e&&"error"!==e&&"success"!==e||(v.addClass("has-"+e),n?(b.html(n),b.show()):(b.html(""),b.hide()))},H=function(){h&&h.off({change:z,blur:l.debug?"":T,keydown:D,focus:A}),m&&(m.off("click",O),m.off("mousedown",!1))};if(f.destroy=function(){T(),H(),y.remove(),m.remove(),b.remove(),h.remove(),n.removeData("gonrin")},f.show=function(){T(),v&&v.show()},f.hide=function(){T(),v&&v.hide()},f.toggle=O,f.showWidget=A,f.hideWidget=T,f.setValue=function(n){if(t!==n&&("multiple"!==l.selectionMode||e.isArray(n))){var i=t;if(t=null,"single"===l.selectionMode?t=null:"multiple"===l.selectionMode&&(t=[]),y.find("li").not(".dropdown-header").removeClass("active"),o="",h&&h.val(o),a&&a.length>0)for(var s=0;s<a.length;s++){var d,u=a[s];if("object"===r?null!=l.valueField&&null!=l.textField&&(d=u[l.valueField]):"common"===r&&(d=u),"single"===l.selectionMode){if(n===d)return void M(s)}else"multiple"===l.selectionMode&&e.isArray(n)&&e.inArray(d,n)>-1&&k(s,i)}}},f.getValue=function(){return t},f.getText=function(){return o},f.setIndex=function(e){"single"===l.selectionMode?M(e):"multiple"===l.selectionMode&&k(e)},f.validate=function(){for(var e,n,o=0;o<l.validators.length;o++){var a=l.validators[o],i=!0;if("string"==typeof a.func&&(i=!(!c||!c.validate)&&c.validate[a.func](t)),"function"==typeof a.func&&(i=a.func(t)),!1===i){e=a.state?a.state:"error",n=a.message?a.message:null,E(e,n);break}}return!0===i&&(!0===l.showStateOnValidateSuccess?E("success"):E(null)),i},f.setState=E,f.setDataSource=function(e){e&&(l.dataSource=e,S())},f.disable=function(){return T(),m&&m.hasClass("btn")&&m.addClass("disabled"),h&&h.prop("disabled",!0),i.prop("disabled",!0),f},f.enable=function(){return m&&m.hasClass("btn")&&m.removeClass("disabled"),h&&h.prop("disabled",!1),i.prop("disabled",!1),f},f.readonly=function(){return T(),m&&m.hasClass("btn")&&m.addClass("disabled"),h&&h.prop("readonly",!0),f},f.options=function(n){if(0===arguments.length)return e.extend(!0,{},l);if(!(n instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,l,n),f},!n.is("input")&&!n.is("select"))throw new Error("Cannot apply to non input, select element");i=n;var I=n.parent();if(I.is("div")&&I.hasClass("input-group")&&I.hasClass("combobox-control"))u=I;else{var L="";n.wrap('<div class="input-group combobox-control '+L+'"></div>'),u=n.parent()}var P=u.parent();if(P.is("div")&&P.hasClass("combobox-group"))v=P;else{L="";u.wrap('<div class="combobox-group '+L+'"></div>'),v=u.parent()}var J=n.nextAll("span:first");0!=J.length&&e(J[0]).hasClass("input-group-addon")||(J=e('<span class="input-group-addon dropdown-toggle" data-dropdown="dropdown">').html('<span class="caret"></span><span class="glyphicon glyphicon-remove" style="display:none;"></span>'),u.append(J)),m=J;var K=n.nextAll("ul:first");K.length>0&&K.remove();var N=n.prev("input");0!=N.length&&e(N[0]).hasClass("form-control")||(N=e('<input class="form-control" type="text">'),n.before(N)),h=N;var B,G,R=u.next("div");if(0!=R.length&&e(R[0]).hasClass("help-block")||(R=e('<div class="help-block">'),u.after(R)),(b=R).hide(),n.css("display","none"),e.extend(!0,l,(G={},(n.is("input")||l.inline)&&(B=n.data()),B.data_options&&B.data_options instanceof Object&&(G=e.extend(!0,G,B.data_options)),G)),f.options(l),"single"===l.selectionMode)t=null!==l.value?l.value:0!==i.val().trim().length?i.val().trim():null;else if("multiple"===l.selectionMode)try{t=null!==l.value?l.value:0!==i.val().trim().length?e.parseJSON(i.val().trim()):[]}catch(e){t=[]}return l.groupSize&&u.addClass("input-group-"+l.groupSize),S(),l.placeholder||(l.placeholder=i.attr("placeholder")),h&&l.placeholder&&h.attr("placeholder",l.placeholder),null!=l.valueField&&null===l.textField&&(l.textField=l.valueField),W(),i.prop("disabled")&&f.disable(),i.prop("readonly")&&f.readonly(),f};e.fn.combobox=function(l){return this.each((function(){var t=e(this);l.refresh=l.refresh||!1,t.data("gonrin")&&l.refresh&&t.data("gonrin",null),t.data("gonrin")||(l=e.extend(!0,{},e.fn.combobox.defaults,l),t.data("gonrin",n(t,l)))}))},e.fn.combobox.defaults={autobind:!0,cascadeFrom:null,cascadeFromField:null,placeholder:null,readonly:!1,debug:!1,delay:100,textField:null,valueField:null,dataSource:null,enable:!0,filter:!1,height:"auto",ignoreCase:!1,suggest:!1,minLength:1,headerTemplate:!1,template:!1,text:"",value:null,focusOnShow:!0,validators:[],selectionMode:"single",groupSize:null,showStateOnValidateSuccess:!1}}));
/**
 * textbox
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else{if("undefined"==typeof jQuery)throw"gonrin combobox requires jQuery to be loaded first";e(jQuery)}}((function(e){"use strict";var t=function(t,n){window.gonrin;var r,a,o={},l=!1,i=function(e){if(r!==e){var n,o=r;r=e,a.val(e),"change.gonrin"===(n={type:"change.gonrin",value:e,oldValue:o}).type&&(n.value&&n.value===n.oldValue||!n.value&&!n.oldValue)||t.trigger(n)}},u=function(t){var n=e(t.target).val();return i(n||null),t.stopImmediatePropagation(),!1};if(o.getValue=function(){return r},o.setValue=i,o.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),o},!t.is("input")&&!t.is("textarea"))throw new Error("Cannot apply to non input, textarea element");return a=t,l=t,r=null!==n.value?n.value:0!==a.val().trim().length?a.val().trim():null,a.val(r),n.hasOwnProperty("cssClass")?n.hasOwnProperty("cssClass")&&!1!==n.cssClass&&t.addClass(n.cssClass):t.addClass("form-control"),n.placeholder||(n.placeholder=a.attr("placeholder")),l&&l.off({change:u}),l&&l.on({change:u}),o};e.fn.textbox=function(n){return this.each((function(){var r=e(this);r.data("gonrin")||(n=e.extend(!0,{},e.fn.textbox.defaults,n),r.data("gonrin",t(r,n)))}))},e.fn.textbox.defaults={text:"",value:null,placeholder:null}}));
/**
 * radio
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else{if("undefined"==typeof jQuery)throw"gonrin radio requires jQuery to be loaded first";e(jQuery)}}((function(e){"use strict";var n=function(n,t){var i,l,a,r,o,d=window.gonrin,u={},s=-1,p=!1,c=function(n){if(l&&l.length>0&&l.length>n&&n>-1){var o,d=l[n],u=i;if("object"===r){if(null==t.valueField||null==t.textField)return;o=d[t.valueField]}return s=n,a.val(o),i=o,e(p.find("input[type=radio]")[n]).prop("checked",!0),void f({type:"change.gonrin",value:o,oldValue:u})}},f=function(e){"change.gonrin"===e.type&&e.value&&e.value===e.oldValue||n.trigger(e)};if(u.destroy=function(){p.remove(),n.removeData("gonrin")},u.setValue=function(n){if(n!==i){var o=i;if(i=n,l&&l.length>0)for(var d=!1,u=0;u<l.length;u++){var c=l[u];"object"===r&&null!=t.valueField&&null!=t.textField&&i===c[t.valueField]&&(s=u,a.val(i),e(p.find("input[type=radio]")[u]).prop("checked",!0),f({type:"change.gonrin",value:i,oldValue:o}),d=!0),!0!==d&&e(p.find("input[type=radio]")).prop("checked",!1)}}},u.getValue=function(){return i},u.setIndex=c,u.select=c,u.getIndex=function(){return s},u.readonly=function(e){return u},u.options=function(n){if(0===arguments.length)return e.extend(!0,{},t);if(!(n instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,t,n),u},!n.is("input"))throw new Error("Cannot apply to non input element");a=n;var h=n.parent();h.is("div")&&h.hasClass("input-group")&&h.hasClass("radio-group")?o=h:(n.wrap('<div class="input-group radio-group"></div>'),o=n.parent());var v,g,y=n.nextAll("ul:first");return y.length>0&&y.remove(),n.css("display","none"),e.extend(!0,t,(g={},(n.is("input")||t.inline)&&(v=n.data()),v.data_options&&v.data_options instanceof Object&&(g=e.extend(!0,g,v.data_options)),g)),u.options(t),i=null!==t.value?t.value:a.val(),o.css("width",null!==t.width?t.width:"100%"),t.dataSource&&(p=e('<ul class="list-unstyled"></ul>'),t.headerTemplate&&p.prepend(e("<li>").addClass("radio-header").html(t.headerTemplate)),a.after(p),e.isArray(t.dataSource)&&(l=t.dataSource,function(){if(e.isArray(l)&&l.length>0){var n=d.uniqueId("radio_");e.each(l,(function(l,a){if("object"==typeof a&&(r="object",null!=t.valueField&&null!=t.textField)){var o=e('<li class="radio-option"><input type="radio" name=""><span class="control-label"></span></li>'),u=o.find("input[type=radio]");if(u.attr("name",n),t.template&&d.template){var s=d.template(t.template);o.find("span").html(s(a))}else o.find("span").html(a[t.textField]);i===a[t.valueField]&&u.prop("checked",!0),null!=t.cssClassField&&a.hasOwnProperty(t.cssClassField)&&a[t.cssClassField]&&o.addClass(a[t.cssClassField]),p.append(o),!0!==t.readonly?o.bind("click",(function(e){c(l)})):(o.bind("click",(function(e){e.stopPropagation()})),u.click((function(){return!1})))}}))}}())),null!=t.valueField&&null===t.textField&&(t.textField=t.valueField),t.index&&t.index>-1&&u.setIndex(t.index),u};e.fn.radio=function(t){return this.each((function(){var i=e(this);i.data("gonrin")||(t=e.extend(!0,{},e.fn.radio.defaults,t),i.data("gonrin",n(i,t)))}))},e.fn.radio.defaults={readonly:!1,textField:null,valueField:null,cssClassField:null,dataSource:null,enable:!0,index:-1,headerTemplate:!1,template:!1,text:"",value:null,width:null,height:null}}));
/**
 * imagelink
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else{if("undefined"==typeof jQuery)throw"gonrin imagelink requires jQuery to be loaded first";e(jQuery)}}((function(e){"use strict";var n=function(n,t){window.gonrin;var i,a={},o=!1,r=!1,l=function(i){if(t.service){var a=t.service,r=new XMLHttpRequest,l=new FormData,s=a.url;i.type.match(/image.*/)&&l.append("image",i),i.type.match(/video.*/)&&l.append("video",i),i.type.match(/audio.*/)&&l.append("audio",i),r.open("POST",s),a.headers&&e.each(a.headers,(function(e,n){r.setRequestHeader(e,n)})),r.onreadystatechange=function(){var e;200===r.status&&4===r.readyState&&(e=a.parse?a.parse(r.responseText):JSON.parse(r.responseText),n.val(e.link),o&&o.find(".valid-feedback").html(e.link).show(),d({type:"change.gonrin",value:e}))},r.send(l)}},d=function(e){"change.gonrin"===e.type&&(e.value&&e.value===e.oldValue||!e.value&&!e.oldValue)||n.trigger(e)};if(a.options=function(n){if(0===arguments.length)return e.extend(!0,{},t);if(!(n instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,t,n),a},!n.is("input"))throw new Error("Cannot apply to non input element");(i=n).val(),n.wrap('<div class="custom-file"></div>');var s,c,u=n.parent(),p=e('<label class="custom-file-label" >Chọn file tải lên</label><div class="valid-feedback"></div>');return u.append(p),o=u,n.addClass("custom-file-input"),e.extend(!0,t,(c={},(n.is("input")||t.inline)&&(s=n.data()),s.data_options&&s.data_options instanceof Object&&(c=e.extend(!0,c,s.data_options)),c)),a.options(t),r=e('<input type="file" lang="vi" accept="file_extension|audio/*|video/*|image/*|media_type" id="fileUpload"/>'),o&&o.prepend(r),r.css("width",0),r.css("height",0),t.placeholder||(t.placeholder=i.attr("placeholder")),function(){if(o){n.val()&&o.find(".valid-feedback").html(n.val()).show();var t=o.find("#fileUpload")[0];n.unbind("click").bind("click",(function(){e(t).trigger("click")})),t.addEventListener("change",(function(e){var n,t,i,a=e.target.files;for(t=0,i=a.length;t<i;t+=1)(n=a[t]).type.match(/image.*/)||n.type.match(/video.*/)||n.type.match(/audio.*/)?l(n):alert("The data type is incorrect")}),!1)}}(),a};e.fn.imagelink=function(t){return this.each((function(){var i=e(this);i.data("gonrin")||(t=e.extend(!0,{},e.fn.imagelink.defaults,t),i.data("gonrin",n(i,t)))}))},e.fn.imagelink.defaults={value:null,service:null,context:null}}));
/**
 * numberic
 */
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof exports)e(require("jquery"));else{if("undefined"==typeof jQuery)throw"gonrin numeric requires jQuery to be loaded first";e(jQuery)}}((function(e){"use strict";var n=function(n,t){window.gonrin;var r,a,o={};if(o.getValue=function(){return function(e,n,r){var a=n;if("i"===t.format)try{a=parseInt(e)}catch(e){a=null}else if("f"===t.format)try{a=parseFloat(e)}catch(e){a=null}return isNaN(a)&&(a=null),a}(a.val())},o.options=function(n){if(0===arguments.length)return e.extend(!0,{},t);if(!(n instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,t,n),o},!n.is("input"))throw new Error("Cannot apply to non input, select element");return a=n,r=null!==t.value?t.value:0!==a.val().trim().length?a.val().trim():null,a.val(r),t.hasOwnProperty("cssClass")?t.hasOwnProperty("cssClass")&&!1!==t.cssClass&&n.addClass(t.cssClass):n.addClass("form-control"),t.placeholder||(t.placeholder=a.attr("placeholder")),o};e.fn.numeric=function(t){return this.each((function(){var r=e(this);r.data("gonrin")||(t=e.extend(!0,{},e.fn.numeric.defaults,t),r.data("gonrin",n(r,t)))}))},e.fn.numeric.defaults={text:"",format:"f",value:null,placeholder:null}}));